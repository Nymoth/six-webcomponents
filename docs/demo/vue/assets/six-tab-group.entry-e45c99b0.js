import{r as p,c,h as n,g as d}from"./index-1daffa60.js";import{s as h}from"./scroll-3e16851e-29c32130.js";function g(t,e,r={duration:150,easing:"ease",fill:"both"}){const o=e.getBoundingClientRect(),s=t.getBoundingClientRect(),l=o.left-s.left,i=o.top-s.top,a=o.width/s.width,b=o.height/s.height;t.animate([{transformOrigin:"top left",transform:`translate(${l}px, ${i}px) scale(${a}, ${b})`},{transformOrigin:"top left",transform:"none"}],r)}const v=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:border-box}:host{display:block}.tab-group{display:flex;border:solid 1px transparent;border-radius:0}.tab-group .tab-group__tabs{display:flex;position:relative}.tab-group--has-scroll-controls .tab-group__nav-container{position:relative;padding:0 var(--six-spacing-x-large)}.tab-group__scroll-button{display:flex;align-items:center;justify-content:center;position:absolute;top:0;bottom:0;width:var(--six-spacing-x-large)}.tab-group__scroll-button--left{left:0}.tab-group__scroll-button--right{right:0}.tab-group--top{flex-direction:column}.tab-group--top .tab-group__nav-container{order:1}.tab-group--top .tab-group__nav{display:flex;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.tab-group--top .tab-group__nav::-webkit-scrollbar{width:0;height:0}.tab-group--top .tab-group__tabs{flex:1 1 auto;position:relative;flex-direction:row}.tab-group--top .tab-group__body{order:2}.tab-group--bottom{flex-direction:column}.tab-group--bottom .tab-group__nav-container{order:2}.tab-group--bottom .tab-group__nav{display:flex;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.tab-group--bottom .tab-group__nav::-webkit-scrollbar{width:0;height:0}.tab-group--bottom .tab-group__tabs{flex:1 1 auto;position:relative;flex-direction:row}.tab-group--bottom .tab-group__body{order:1}.tab-group--left{flex-direction:row}.tab-group--left .tab-group__nav-container{order:1}.tab-group--left .tab-group__tabs{flex:0 0 auto;flex-direction:column}.tab-group--left .tab-group__body{flex:1 1 auto;order:2}.tab-group--right{flex-direction:row}.tab-group--right .tab-group__nav-container{order:2}.tab-group--right .tab-group__tabs{flex:0 0 auto;flex-direction:column}.tab-group--right .tab-group__body{flex:1 1 auto;order:1}",f=class{constructor(t){p(this,t),this.sixTabShow=c(this,"six-tab-show",7),this.sixTabHide=c(this,"six-tab-hide",7),this.handleClick=e=>{const o=e.target.closest("six-tab");if((o==null?void 0:o.closest("six-tab-group"))!==this.host)return!1;o!=null&&this.setActiveTab(o)},this.handleKeyDown=e=>{if(this.nav==null)return;const o=e.target.closest("six-tab");if((o==null?void 0:o.closest("six-tab-group"))!==this.host)return!1;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e.key)){const l=document.activeElement;if(l&&l.tagName.toLowerCase()==="six-tab"){const i=this.getAllTabs();let a=i.indexOf(l);e.key==="Home"?a=0:e.key==="End"?a=i.length-1:e.key==="ArrowLeft"?a=Math.max(0,a-1):e.key==="ArrowRight"&&(a=Math.min(i.length-1,a+1)),i[a].setFocus({preventScroll:!0}),this.setActiveTab(i[a]),["top","bottom"].includes(this.placement)&&h(i[a],this.nav,"horizontal"),e.preventDefault()}}},this.handleScrollLeft=()=>{this.nav!=null&&this.nav.scroll({left:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})},this.handleScrollRight=()=>{this.nav!=null&&this.nav.scroll({left:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})},this.hasScrollControls=!1,this.placement="top",this.noScrollControls=!1}handleNoScrollControlsChange(){this.updateScrollControls()}componentDidLoad(){if(this.tabGroup==null||this.nav==null)return;new IntersectionObserver((e,r)=>{e[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab(this.getActiveTab()||this.getAllTabs()[0],!1),r.unobserve(e[0].target))}).observe(this.host),this.resizeObserver=new ResizeObserver(()=>this.updateScrollControls()),this.resizeObserver.observe(this.nav),requestAnimationFrame(()=>this.updateScrollControls()),this.mutationObserver=new MutationObserver(e=>{e.some(r=>{var o;return!["aria-labelledby","aria-controls"].includes((o=r.attributeName)!==null&&o!==void 0?o:"")})&&setTimeout(()=>this.setAriaLabels())}),this.mutationObserver.observe(this.host,{attributes:!0,childList:!0,subtree:!0})}disconnectedCallback(){this.mutationObserver==null||this.tabGroup==null||this.nav==null||this.resizeObserver==null||(this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav))}async show(t){const r=this.getAllTabs().find(o=>o.panel===t);r!=null&&this.setActiveTab(r)}getAllTabs(t=!1){var e;const r=(e=this.tabs)===null||e===void 0?void 0:e.querySelector("slot");return r==null?[]:[...r.assignedElements()].filter(o=>t?o.tagName.toLowerCase()==="six-tab":o.tagName.toLowerCase()==="six-tab"&&!o.disabled)}getAllPanels(){var t;const e=(t=this.body)===null||t===void 0?void 0:t.querySelector("slot");return e==null?[]:[...e.assignedElements()].filter(r=>r.tagName.toLowerCase()==="six-tab-panel")}getActiveTab(){return this.getAllTabs().find(t=>t.active)}updateScrollControls(){this.nav!=null&&(this.hasScrollControls=this.noScrollControls?!1:["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth)}setActiveTab(t,e=!0){var r,o,s;if(this.nav==null)return;const l=(r=t==null?void 0:t.shadowRoot)===null||r===void 0?void 0:r.querySelector(".tab__indicator"),i=(s=(o=this.getActiveTab())===null||o===void 0?void 0:o.shadowRoot)===null||s===void 0?void 0:s.querySelector(".tab__indicator");if(i!=null&&l!=null&&g(l,i),t!==this.activeTab&&!t.disabled){const a=this.activeTab;this.activeTab=t,this.getAllTabs().map(b=>b.active=b===this.activeTab),this.getAllPanels().map(b=>{var u;return b.active=b.name===((u=this.activeTab)===null||u===void 0?void 0:u.panel)}),["top","bottom"].includes(this.placement)&&h(this.activeTab,this.nav,"horizontal"),e&&(a!=null&&this.sixTabHide.emit({name:a.panel}),this.sixTabShow.emit({name:this.activeTab.panel}))}}setAriaLabels(){const t=this.getAllTabs(),e=this.getAllPanels();t.map(r=>{var o,s;const l=e.find(i=>i.name===r.panel);l!=null&&(r.setAttribute("aria-controls",(o=l.getAttribute("id"))!==null&&o!==void 0?o:""),l.setAttribute("aria-labelledby",(s=r.getAttribute("id"))!==null&&s!==void 0?s:""))})}render(){return n("div",{part:"base",ref:t=>this.tabGroup=t,class:{"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--left":this.placement==="left","tab-group--right":this.placement==="right","tab-group--has-scroll-controls":this.hasScrollControls},onClick:this.handleClick,onKeyDown:this.handleKeyDown},n("div",{class:"tab-group__nav-container"},this.hasScrollControls&&n("six-icon-button",{class:"tab-group__scroll-button tab-group__scroll-button--left",exportparts:"base:scroll-button",name:"chevron_left",onClick:this.handleScrollLeft}),n("div",{ref:t=>this.nav=t,key:"nav",part:"nav",class:"tab-group__nav"},n("div",{ref:t=>this.tabs=t,part:"tabs",class:"tab-group__tabs",role:"tablist"},n("slot",{name:"nav"}))),this.hasScrollControls&&n("six-icon-button",{class:"tab-group__scroll-button tab-group__scroll-button--right",exportparts:"base:scroll-button",name:"chevron_right",onClick:this.handleScrollRight})),n("div",{ref:t=>this.body=t,part:"body",class:"tab-group__body"},n("slot",null)))}get host(){return d(this)}static get watchers(){return{noScrollControls:["handleNoScrollControlsChange"]}}};f.style=v;export{f as six_tab_group};
