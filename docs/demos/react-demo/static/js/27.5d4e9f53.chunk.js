(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[27],{101:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n(15),i=function(){function e(){var t=this;Object(r.a)(this,e),this.eventListeners=[],this.add=function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.eventListeners.push({el:e,name:n,listener:r,identifier:a}),e.addEventListener(n,r)},this.remove=function(e,n,r){var a,i=(a={el:e,name:n,listener:r},function(e){return Object.keys(a).every((function(t){return a[t]===e[t]}))});t.eventListeners=t.getFilteredEventListeners(i)},this.removeByIdentifier=function(e){var n=function(t){return t.identifier===e};void 0!==t.eventListeners.find(n)&&(t.eventListeners=t.getFilteredEventListeners(n))},this.removeAll=function(){for(;t.eventListeners.length;){var e=t.eventListeners.pop(),n=e.el,r=e.name,a=e.listener;n.removeEventListener(r,a)}}}return Object(a.a)(e,[{key:"getFilteredEventListeners",value:function(e){return this.eventListeners.filter((function(t){return!e(t)||(t.el.removeEventListener(t.name,t.listener),!1)}))}}]),e}()},64:function(e,t,n){"use strict";n.r(t),n.d(t,"six_form",(function(){return h}));var r=n(6),a=n.n(r),i=n(10),s=n(25),o=n(9),u=n(14),c=n(15),l=n(21),f=n(101),h=function(){function e(t){Object(u.a)(this,e),Object(l.i)(this,t),this.sixSubmit=Object(l.e)(this,"six-form-submit",7),this.sixChange=Object(l.e)(this,"six-form-change",7),this.sixReset=Object(l.e)(this,"six-form-reset",7),this.eventListeners=new f.a,this.novalidate=!1}return Object(c.a)(e,[{key:"connectedCallback",value:function(){var e=this;this.formControls=[{tag:"six-button",serialize:function(e,t){return e.name&&!e.disabled?t.append(e.name,e.value):null},click:function(t){var n=t.target;n.submit&&e.submit(),n.reset&&e.reset()}},{tag:"six-checkbox",serialize:function(e,t){return e.name&&e.checked&&!e.disabled?t.append(e.name,e.value):null},changeEventName:"six-checkbox-change"},{tag:"six-color-picker",serialize:function(e,t){return e.name&&!e.disabled?t.append(e.name,e.value):null}},{tag:"six-input",serialize:function(e,t){return e.name&&!e.disabled?t.append(e.name,e.value):null},keyDown:function(t){"Enter"!==t.key||t.defaultPrevented||e.submit()},changeEventName:"six-input-change"},{tag:"six-datepicker",serialize:function(e,t){var n;return e.name&&!e.disabled?t.append(e.name,null===(n=e.value)||void 0===n?void 0:n.toISOString()):null},keyDown:function(t){"Enter"!==t.key||t.defaultPrevented||e.submit()},changeEventName:"six-datepicker-select"},{tag:"six-radio",serialize:function(e,t){return e.name&&e.checked&&!e.disabled?t.append(e.name,e.value):null},changeEventName:"six-radio-change"},{tag:"six-range",serialize:function(e,t){e.name&&!e.disabled&&t.append(e.name,e.value+"")},changeEventName:"six-range-change"},{tag:"six-select",serialize:function(e,t){if(e.name&&!e.disabled)if(e.multiple){var n=Object(o.a)(e.value);n.length?n.map((function(n){return t.append(e.name,n)})):t.append(e.name,"")}else t.append(e.name,e.value+"")},changeEventName:"six-select-change"},{tag:"six-switch",serialize:function(e,t){return e.name&&e.checked&&!e.disabled?t.append(e.name,e.value):null},changeEventName:"six-switch-change"},{tag:"six-textarea",serialize:function(e,t){return e.name&&!e.disabled?t.append(e.name,e.value):null},changeEventName:"six-textarea-change"},{tag:"six-timepicker",serialize:function(e,t){return e.name&&!e.disabled?t.append(e.name,e.value):null},keyDown:function(t){"Enter"!==t.key||t.defaultPrevented||e.submit()},changeEventName:"six-timepicker-change"}],this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}},{key:"disconnectedCallback",value:function(){this.eventListeners.removeAll()}},{key:"componentDidLoad",value:function(){var e=this;this.getFormControls().then((function(t){return t.forEach((function(t){return e.appendChangeListener(t)}))}))}},{key:"appendChangeListener",value:function(e){var t,n=this,r=e.tagName.toLowerCase(),a=Object(s.a)(this.formControls);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.tag===r&&i.changeEventName&&this.eventListeners.add(e,i.changeEventName,(function(){return n.handleChange(e)}))}}catch(o){a.e(o)}finally{a.f()}}},{key:"getFormData",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new FormData,e.next=3,this.getFormControls();case 3:return e.sent.map((function(e){return n.serializeElement(e,t)})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFormControls",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.form.querySelector("slot"),n=this.formControls.map((function(e){return e.tag})),e.abrupt("return",t.assignedElements({flatten:!0}).reduce((function(e,t){return e.concat(t,Object(o.a)(t.querySelectorAll("*")))}),[]).filter((function(e){return n.includes(e.tagName.toLowerCase())})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,i,o,u,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFormData();case 2:return t=e.sent,e.next=5,this.getFormControls();case 5:if(n=e.sent,r=n.filter((function(e){return"function"===typeof e.reportValidity})),this.novalidate){e.next=30;break}i=!0,o=Object(s.a)(r),e.prev=10,o.s();case 12:if((u=o.n()).done){e.next=20;break}return c=u.value,e.next=16,c.reportValidity();case 16:if(e.sent){e.next=18;break}i=!1;case 18:e.next=12;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(10),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:if(i){e.next=30;break}return e.abrupt("return",!1);case 30:return this.sixSubmit.emit({formData:t,formControls:n}),e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e,this,[[10,22,25,28]])})));return function(){return e.apply(this,arguments)}}()},{key:"checkValidity",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFormControls();case 2:return t=e.sent,n=t.filter((function(e){return"function"===typeof e.checkValidity})).map((function(e){return e.checkValidity()})),e.next=6,Promise.all(n).then((function(e){return e.filter((function(e){return!1===e}))}));case 6:return r=e.sent,e.abrupt("return",0==r.length);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFormControls();case 2:e.sent.filter((function(e){return(null===e||void 0===e?void 0:e.reset)&&"function"===typeof(null===e||void 0===e?void 0:e.reset)})).forEach((function(e){return e.reset()})),this.sixReset.emit();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){var t,n=e.target.tagName.toLowerCase(),r=Object(s.a)(this.formControls);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.tag===n&&a.click&&a.click(e)}}catch(i){r.e(i)}finally{r.f()}}},{key:"handleKeyDown",value:function(e){var t,n=e.target.tagName.toLowerCase(),r=Object(s.a)(this.formControls);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.tag===n&&a.keyDown&&a.keyDown(e)}}catch(i){r.e(i)}finally{r.f()}}},{key:"handleChange",value:function(e){var t=this;this.checkValidity().then((function(n){return t.sixChange.emit({valid:n,formControl:e})}))}},{key:"serializeElement",value:function(e,t){var n,r=e.tagName.toLowerCase(),a=Object(s.a)(this.formControls);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.tag===r)return i.serialize(e,t)}}catch(o){a.e(o)}finally{a.f()}return null}},{key:"render",value:function(){var e=this;return Object(l.g)("div",{ref:function(t){return e.form=t},part:"base",class:"form",role:"form",onClick:this.handleClick,onKeyDown:this.handleKeyDown},Object(l.g)("slot",null))}}]),e}();h.style=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:block}"}}]);
//# sourceMappingURL=27.5d4e9f53.chunk.js.map