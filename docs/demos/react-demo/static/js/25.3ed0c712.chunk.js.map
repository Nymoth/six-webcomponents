{"version":3,"sources":["../node_modules/@six/ui-library/dist/esm/types-33d15673.js","../node_modules/@six/ui-library/dist/esm/six-table.entry.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["SortDirection","FilterMode","assertions","value","columns","Array","isArray","rows","undefined","sort","isData","every","f","apply","Invalid","length","modes","Includes","a","b","includes","NotIncludes","Equals","NotEquals","unordered","None","DEFAULT_COMPARATOR","String","localeCompare","fromData","data","handleRowClick","handleCellClick","keys","Object","map","key","k","byKey","defaults","entries","filter","h","name","quickFilter","item","term","toLowerCase","_a","join","quickFilterBy","filterModel","mode","filterBy","compare","items","values","reduce","acc","index","v","comparator","direction","Asc","Desc","sortBy","cells","renderer","render","html","onClick","innerHTML","Fragment","SixTable","hostRef","registerInstance","this","tableReady","createEvent","tableRowClicked","tableCellClicked","striped","loading","event","emit","detail","class","Host","getElement","style","_defineProperty","obj","defineProperty","enumerable","configurable","writable"],"mappings":"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","file":"static/js/25.3ed0c712.chunk.js","sourcesContent":["var SortDirection;\r\n(function (SortDirection) {\r\n  SortDirection[\"None\"] = \"none\";\r\n  SortDirection[\"Asc\"] = \"asc\";\r\n  SortDirection[\"Desc\"] = \"desc\";\r\n})(SortDirection || (SortDirection = {}));\r\nvar FilterMode;\r\n(function (FilterMode) {\r\n  FilterMode[\"Equals\"] = \"eq\";\r\n  FilterMode[\"NotEquals\"] = \"ne\";\r\n  FilterMode[\"Includes\"] = \"in\";\r\n  FilterMode[\"NotIncludes\"] = \"ni\";\r\n})(FilterMode || (FilterMode = {}));\n\nexport { FilterMode as F, SortDirection as S };\n","import { h, F as Fragment, r as registerInstance, c as createEvent, H as Host, g as getElement } from './index-a2605a62.js';\nimport { F as FilterMode, S as SortDirection } from './types-33d15673.js';\n\nconst assertions = [\r\n  (value) => typeof value === 'object',\r\n  (value) => typeof value.columns === 'object',\r\n  (value) => Array.isArray(value.rows),\r\n  (value) => value.sort === undefined || typeof value.sort === 'object',\r\n];\r\nconst apply = (value) => (f) => f(value);\r\nconst isData = (value) => assertions.every(apply(value));\n\nconst Invalid = {\r\n  Term: (value) => typeof value !== 'string' || value.length < 1,\r\n};\n\nconst modes = {\r\n  [FilterMode.Includes]: (a, b) => a.includes(b),\r\n  [FilterMode.NotIncludes]: (a, b) => !a.includes(b),\r\n  [FilterMode.Equals]: (a, b) => a === b,\r\n  [FilterMode.NotEquals]: (a, b) => a !== b,\r\n};\r\nconst filterBy = (filterModel = {}) => (item) => {\r\n  var _a;\r\n  const keys = Object.keys(filterModel);\r\n  if (keys.length === 0) {\r\n    return true;\r\n  }\r\n  for (const key of keys) {\r\n    const filter = filterModel[key];\r\n    if (!filter) {\r\n      return true;\r\n    }\r\n    for (const [mode, term] of Object.entries(filter)) {\r\n      if (Invalid.Term(term)) {\r\n        continue;\r\n      }\r\n      const value = String((_a = item[key]) !== null && _a !== void 0 ? _a : '');\r\n      if (Invalid.Term(value)) {\r\n        continue;\r\n      }\r\n      if (!modes[mode](value, term)) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n};\n\nconst unordered = (value) => value === SortDirection.None;\r\nconst DEFAULT_COMPARATOR = (a, b) => String(a).localeCompare(String(b));\r\nconst sortBy = (sort = {}, compare = {}) => (items) => {\r\n  const values = Object.values(sort);\r\n  if (values.length === 0 || values.every(unordered)) {\r\n    return items;\r\n  }\r\n  return [...items].sort((a, b) => {\r\n    return Object.entries(sort).reduce((acc, [k, v], index) => {\r\n      if (v === SortDirection.None) {\r\n        return acc;\r\n      }\r\n      const comparator = compare[k];\r\n      const direction = {\r\n        [SortDirection.Asc]: +1,\r\n        [SortDirection.Desc]: -1,\r\n      }[v];\r\n      if (comparator) {\r\n        return acc + direction * (comparator(a, b) << index);\r\n      }\r\n      return acc + direction * (DEFAULT_COMPARATOR(a[k], b[k]) << index);\r\n    }, 0);\r\n  });\r\n};\n\nconst quickFilterBy = (keys, value) => (item) => {\r\n  if (Invalid.Term(value)) {\r\n    return true;\r\n  }\r\n  const term = value.toLowerCase();\r\n  const source = keys\r\n    .map((key) => { var _a; return (_a = item[key]) !== null && _a !== void 0 ? _a : ''; })\r\n    .map(String)\r\n    .join()\r\n    .toLowerCase();\r\n  return source.includes(term);\r\n};\n\nconst propOr = (k) => (o = {}, defaults) => o[k] || defaults;\r\nconst fromData = ({ data, handleRowClick, handleCellClick }) => {\r\n  if (!isData(data)) {\r\n    return;\r\n  }\r\n  const keys = Object.keys(data.columns);\r\n  const columns = keys.map((key) => {\r\n    const byKey = propOr(key);\r\n    const sort = byKey(data.sort, undefined);\r\n    const [[filter, value] = []] = Object.entries(byKey(data.filter, {}));\r\n    return (h(\"six-table-header-cell\", { name: key, sort: sort, filter: filter, value: value }, data.columns[key]));\r\n  });\r\n  const quickFilter = quickFilterBy(Object.keys(data.columns), data.quickFilter);\r\n  const filter = filterBy(data.filter);\r\n  const sort = sortBy(data.sort, data.compare);\r\n  const rows = sort(data.rows.filter(quickFilter).filter(filter)).map((item, index) => {\r\n    const cells = keys.map((key) => {\r\n      const renderer = data.render && data.render[key];\r\n      // HTML is not escaped, responsibility lays on the caller\r\n      const html = typeof renderer === 'function' ? renderer(item) : String(item[key]);\r\n      return (h(\"six-table-cell\", { onClick: handleCellClick(item, key), \"data-testid\": `table-cell-${key}-${index}`, innerHTML: html }));\r\n    });\r\n    return (h(\"six-table-row\", { onClick: handleRowClick(item), \"data-testid\": `table-row-${index}` }, cells));\r\n  });\r\n  return (h(Fragment, null,\r\n    h(\"six-table-header\", { \"data-testid\": \"table-header\" }, columns),\r\n    rows));\r\n};\n\nconst sixTableCss = \":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:table;border-collapse:collapse;user-select:none;border:none;width:100%;height:100%}:host([loading]){border-collapse:separate}:host([striped]) six-table-row:nth-child(odd):not(:hover),:host([striped]) ::slotted(six-table-row:nth-child(odd):not(:hover)){background-color:var(--six-table-row-background-color)}:host(:not(striped)) ::slotted(six-table-row){border-bottom:solid 1px var(--six-table-row-border-color)}.loading{position:absolute;background-color:var(--six-table-background-color);top:0;left:0;width:100%;height:100%}.loading six-spinner{top:calc(50% - 0.5em);left:50%;transform:scale(3)}\";\n\nlet SixTable = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.tableReady = createEvent(this, \"six-table-ready\", 7);\r\n    this.tableRowClicked = createEvent(this, \"six-table-row-clicked\", 7);\r\n    this.tableCellClicked = createEvent(this, \"six-table-cell-clicked\", 7);\r\n    /** Set to true to stripe the table. */\r\n    this.striped = false;\r\n    /** Set to true to display loading indicator. */\r\n    this.loading = false;\r\n    this.data = {\r\n      columns: {},\r\n      rows: [],\r\n    };\r\n    this.handleRowClick = (item) => (event) => {\r\n      this.tableRowClicked.emit({ event, item });\r\n    };\r\n    this.handleCellClick = (item, key) => (event) => {\r\n      this.tableCellClicked.emit({ event, item, key });\r\n    };\r\n  }\r\n  handleData({ detail }) {\r\n    if (!isData(detail)) {\r\n      return;\r\n    }\r\n    this.data = detail;\r\n  }\r\n  async setData(value) {\r\n    if (!isData(value)) {\r\n      return;\r\n    }\r\n    this.data = value;\r\n  }\r\n  componentDidLoad() {\r\n    this.tableReady.emit();\r\n  }\r\n  render() {\r\n    const loading = this.loading && (h(\"div\", { class: \"loading\" }, h(\"six-spinner\", { \"data-testid\": \"loading-spinner\" })));\r\n    return (h(Host, null, h(\"slot\", null, fromData(this)), loading));\r\n  }\r\n  get host() { return getElement(this); }\r\n};\r\nSixTable.style = sixTableCss;\n\nexport { SixTable as six_table };\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}