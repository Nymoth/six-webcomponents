(self.webpackChunksix_app=self.webpackChunksix_app||[]).push([[8086],{8086:(e,t,i)=>{"use strict";i.r(t),i.d(t,{six_datepicker:()=>z});var s=i(6304),a=i(1488),n=i(2776),r=i(3655),o=i(4326),l=i(1376);const h={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsShortGrouped:[["Jan","Feb","Mar","Apr"],["May","Jun","Jul","Aug"],["Sep","Oct","Nov","Dec"]],weekdays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysMin:["Mo","Tu","We","Th","Fr","Sa","Su"]},de:{months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],monthsShortGrouped:[["Jan.","Feb.","M\xe4rz","Apr."],["Mai","Juni","Juli","Aug."],["Sep.","Okt.","Nov.","Dez."]],weekdays:["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],weekdaysShort:["Mo.","Di.","Mi.","Do.","Fr.","Sa.","So."],weekdaysMin:["Mo","Di","Mi","Do","Fr","Sa","So"]},fr:{months:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],monthsShort:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],monthsShortGrouped:[["janv.","f\xe9vr.","mars","avr."],["mai","juin","juil.","ao\xfbt"],["sept.","oct.","nov.","d\xe9c."]],weekdays:["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"],weekdaysShort:["lun.","mar.","mer.","jeu.","ven.","sam.","dim."],weekdaysMin:["lu","ma","me","je","ve","sa","di"]},it:{months:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],monthsShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],monthsShortGrouped:[["gen","feb","mar","apr"],["mag","giu","lug","ago"],["set","ott","nov","dic"]],weekdays:["luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato","domenica"],weekdaysShort:["lun","mar","mer","gio","ven","sab","dom"],weekdaysMin:["lu","ma","me","gi","ve","sa","do"]}},d=()=>new Date,c=e=>!(0,n.i)(e)&&!(0,n.a)(e)&&((0,n.b)(e)?!isNaN(e.getTime()):"Invalid Date"!==new Date(e).toString()),p=e=>{if(e&&c(e))return e.getFullYear();throw new Error("Not a valid date")},u=e=>{if(e&&c(e))return e.getMonth();throw new Error("Not a valid date")},m=e=>{if(e&&c(e))return e.getDate();throw new Error("Not a valid date")},g=e=>{if(e&&c(e))return e.getHours();throw new Error("Not a valid date")},D=e=>{if(e&&c(e))return e.getMinutes();throw new Error("Not a valid date")},y=e=>{if(e&&c(e))return e.getSeconds();throw new Error("Not a valid date")},b=e=>{const t=new Date(e);return t.setDate(t.getDate()-[6,0,1,2,3,4,5][t.getDay()]),t},v=(e,t)=>((e,t)=>(null==e?void 0:e.getFullYear())===(null==t?void 0:t.getFullYear()))(e,t)&&(null==e?void 0:e.getMonth())===(null==t?void 0:t.getMonth()),M=(e,t)=>v(e,t)&&(null==e?void 0:e.getDate())===(null==t?void 0:t.getDate()),k=(e,t)=>{if(!(0,n.c)(e)||!(0,n.c)(t))return!1;if(e.length<6||t.length<6)return!1;const{day:i,month:s}=O(e,t);if(i>31||s>11||i<=0||s<0)return!1;const a=H(e,t);return!(0,n.i)(a)&&"Invalid Date"!==a.toString()},w=(e,t,i)=>!(e&&t&&i)||t<=e&&e<=i,f=(e,t,i,s=2)=>{const a=s-1,n=t.charAt(e+a)===i;return e+a<t.length&&n},x=(e,t)=>{let i=String(e);for(;i.length<t;)i="0"+i;return i},_=(e,t)=>{if(!e)return"";let i="";for(let s=0;s<t.length;s++)switch(t.charAt(s)){case"d":f(s,t,"d")?(i+=x(e.getDate(),2),s++):i+=String(e.getDate());break;case"m":f(s,t,"m")?(i+=x(e.getMonth()+1,2),s++):i+=String(e.getMonth()+1);break;case"y":f(s,t,"y",4)?(s+=3,i+=e.getFullYear()):(i+=(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100,s++);break;case"h":f(s,t,"h")?(i+=x(e.getHours(),2),s++):i+=String(e.getHours());break;case"M":f(s,t,"M")?(i+=x(e.getMinutes(),2),s++):i+=String(e.getMinutes());break;case"s":f(s,t,"s")?(i+=x(e.getSeconds(),2),s++):i+=String(e.getSeconds());break;default:i+=t.charAt(s)}return i},Y=/(\[[^\[]*\])|(mm|dd|yyyy|yy|hh|MM|ss|.)/g,S=/\d\d/,C=/[^0-9]/g,E="year",F={},A=(e,t,i)=>{const s=Array.isArray(e)?e:[e];let a;a="string"==typeof i?e=>{const t=parseInt(e,10);return{[i]:t}}:i,s.forEach(e=>{F[e]=[t,a]})};A("yy",S,e=>{const t=(new Date).getFullYear(),i=Math.floor(t/100);let s=parseInt(e,10);return s=100*(s>68?i-1:i)+s,{[E]:s}}),A("yyyy",/\d{4}/,E),A("mm",S,e=>({month:parseInt(e,10)-1})),A("dd",S,"day"),A("hh",S,"hour"),A("MM",S,"minute"),A("ss",S,"second");const O=(e,t)=>((e,t)=>{const i=t.match(Y);if(!i)throw new Error;const{length:s}=i;let a={};for(let n=0;n<s;n+=1){const t=i[n],s=F[t];if(s){const t=s[1],i=(s[0].exec(e)||[])[0],n=t(i);a=Object.assign(Object.assign({},a),n),e=e.replace(i,"")}else{const i=t.replace(/^\[|\]$/g,"");if(0!==e.indexOf(i))throw new Error("not match");e=e.substr(i.length)}}return a})(((e,t)=>{if(e.length===t.length)return e;const i=e.match(C)[0];return e.split(i).map(e=>1===e.length?"0"+e:e).join(i)})(e,t),t),H=(e,t)=>{try{const{backupDate:i=new Date}={},{year:s,month:a,day:n,hour:r,minute:o,second:l,date:h}=O(e,t);if(h)return h;let d;return d=((e,t,i,s,a,n)=>{if(!(e<100&&e>=0))return new Date(e,t,i,s,a,n);const r=new Date(e+400,t,i,s,a,n);return isFinite(r.getFullYear())&&r.setFullYear(e),r})(...((e,t=new Date)=>{const i=[0,0,1,0,0,0],s=[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()];let a=!0;for(let n=0;n<7;n++)void 0===e[n]?i[n]=a?s[n]:i[n]:(i[n]=e[n],a=!1);return i})([s,a,n,r,o,l],i)),d}catch(i){return new Date(NaN)}};var T;!function(e){e.DDMMYYY_DOT="dd.mm.yyyy",e.YYYYMMDD_DASH="yyyy-mm-dd",e.DDMMYYYY_DASH="dd-mm-yyyy",e.DDMMYYYY_SLASH="dd/mm/yyyy",e.YYYYMMDD_SLASH="yyyy/mm/dd",e.DDMMYY_DOT="dd.mm.yy",e.YYMMDD_DASH="yy-mm-dd",e.DDMMYY_DASH="dd-mm-yy",e.DDMMYY_SLASH="dd/mm/yy",e.YYMMDD_SLASH="yy/mm/dd",e.DDMMYYY_DOT_TIME="dd.mm.yyyy hh:MM:ss",e.YYYYMMDD_DASH_TIME="yyyy-mm-dd hh:MM:ss",e.DDMMYYYY_DASH_TIME="dd-mm-yyyy hh:MM:ss",e.DDMMYYYY_SLASH_TIME="dd/mm/yyyy hh:MM:ss",e.YYYYMMDD_SLASH_TIME="yyyy/mm/dd hh:MM:ss",e.DDMMYY_DOT_TIME="dd.mm.yy hh:MM:ss",e.YYMMDD_DASH_TIME="yy-mm-dd hh:MM:ss",e.DDMMYY_DASH_TIME="dd-mm-yy hh:MM:ss",e.DDMMYY_SLASH_TIME="dd/mm/yy hh:MM:ss",e.YYMMDD_SLASH_TIME="yy/mm/dd hh:MM:ss"}(T||(T={}));const P=({locale:e,selectedDate:t,onClickMonthCell:i})=>{const s=i=>(null==t?void 0:t.getMonth())===e.monthsShort.findIndex(e=>e===i);return(0,a.h)("table",{class:"datepicker-table",part:"month-selection"},(0,a.h)("tbody",null,e.monthsShortGrouped.map(t=>(0,a.h)("tr",{class:"datepicker-table__row"},t.map(t=>{return(0,a.h)("td",{onClick:()=>i(t),class:{"datepicker-table__cell":!0,"datepicker-table__cell--is-today":(n=t,e.monthsShort[d().getMonth()]===n),"datepicker-table__cell--is-selected":s(t)}},t);var n})))))},j=({locale:e,calendarGrid:t,onClickDateCell:i})=>(0,a.h)("table",{class:"datepicker-table",part:"day-selection"},(0,a.h)("thead",{part:"weekday-header"},e.weekdaysMin.map(e=>(0,a.h)("th",{class:"datepicker__cell"},e))),(0,a.h)("tbody",null,t.map(e=>(0,a.h)("tr",{class:"datepicker-table__row"},e.map(e=>(0,a.h)("td",{"data-date":e.dateString,onClick:()=>i(e),class:{"datepicker-table__cell":!0,"datepicker-table__cell--is-today":e.isToday,"datepicker-table__cell--is-selected":e.isSelected,"datepicker-table__cell--is-outdated":e.isOutdated,"datepicker-table__cell--is-disabled":e.isDisabled,"datepicker-table__cell--is-selectable":!e.isDisabled}},e.label)))))),I=({selectedDate:e,yearSelection:t,onClickYearCell:i})=>(0,a.h)("table",{class:"datepicker-table",part:"year-selection"},(0,a.h)("tbody",null,t.map(t=>(0,a.h)("tr",{class:"datepicker-table__row"},t.map(t=>(0,a.h)("td",{onClick:()=>i(t),class:{"datepicker-table__cell":!0,"datepicker-table__cell--is-today":d().getFullYear()===t,"datepicker-table__cell--is-selected":(null==e?void 0:e.getFullYear())===t}},t))))));var L;!function(e){e.DAY="day",e.MONTH="month",e.YEAR="year"}(L||(L={}));const N=e=>Array.from(new Array(25).keys()).map(t=>t+e-Math.floor(12.5)).reduce((e,t,i)=>(i%5==0&&e.push([]),e[e.length-1].push(t),e),[]);let z=class{constructor(e){(0,a.r)(this,e),this.sixSelect=(0,a.c)(this,"six-datepicker-select",7),this.sixClear=(0,a.c)(this,"six-datepicker-clear",7),this.sixBlur=(0,a.c)(this,"six-datepicker-blur",7),this.eventListeners=new r.E,this.selectedDate=null,this.pointerDate=z.getCurrentDateAsPointer(),this.selectionMode=L.DAY,this.isDropDownContentUp=!1,this.type="date",this.locale="en",this.open=!1,this.inline=!1,this.readonly=!1,this.disabled=!1,this.allowedDates=()=>!0,this.min=null,this.max=null,this.closeOnSelect="date"===this.type,this.size="medium",this.value=null,this.dateFormat=T.DDMMYYY_DOT,this.debounce=o.D,this.errorOnBlur=!1,this.errorText="",this.label="",this.name="",this.clearable=!1,this.iconPosition="left",this.hoist=!1,this.defaultValue=null,this.handleDocumentKeyDown=e=>{this.open&&"Escape"===e.key&&(e.stopPropagation(),this.closePopup(),this.inputElement.setFocus()),"Tab"===e.key&&this.closePopup()},this.handleDocumentMouseDown=e=>{e.composedPath().includes(this.container)||this.closePopup()},this.onTimepickerChange=e=>{const t=e.detail.value,i=new Date;this.selectedDate&&i.setFullYear(this.selectedDate.getFullYear(),this.selectedDate.getMonth(),this.selectedDate.getDate()),i.setHours(t[n.S.HOURS],t[n.S.MINUTES],t[n.S.SECONDS]),this.updateValue(i),this.updatePointerDates()},this.onClickDateCell=e=>{e.isDisabled||this.select(e.dateString)},this.onClickMonthCell=e=>{const t=h[this.locale].monthsShort.findIndex(t=>t===e);this.pointerDate=Object.assign(Object.assign({},this.pointerDate),{month:t}),this.selectionMode=L.DAY},this.onClickYearCell=e=>{this.pointerDate=Object.assign(Object.assign({},this.pointerDate),{year:e}),this.selectionMode=L.DAY},this.handleInputChange=e=>{const t=this.inputElement.value;if(!k(t,this.dateFormat))return;const i=H(t,this.dateFormat);if(void 0===i)return;if(this.min&&this.min.getTime()>i.getTime())return;if(this.max&&this.max.getTime()<i.getTime())return;this.updateIfChanged(i),e.stopPropagation();const s=t.replace(/[^\d]/g,"");let a=!t;if(t&&s.length>=6){const e=H(t,this.dateFormat),i=_(e,this.dateFormat);k(i,this.dateFormat)&&(this.selectedDate=H(i,this.dateFormat),this.updatePointerDates(),this.updateValue(this.selectedDate),a=!0)}this.displayCustomMessage(a)},this.handleOnBlur=e=>{""===this.inputElement.value&&c(this.value)&&(this.value=void 0),e.stopPropagation();const t=this.inputElement.value,i=H(t,this.dateFormat),s=_(this.value,this.dateFormat);i&&t!==s&&(this.inputElement.value=s),this.sixBlur.emit(this.value)}}debounceChanged(){this.sixSelect=(0,o.d)(this.sixSelect,this.debounce)}valueChanged(){if(this.isValidValue())return console.warn("Encountered unreadable date, will map to undefined. Received value",this.value),void(this.value=void 0);this.selectedDate=this.value,this.updatePointerDates(),this.sixSelect.emit(this.value)}resizeHandler(){var e=this;return(0,s.Z)(function*(){e.calcIsDropDownContentUp(),e.moveOpenHoistedPopup(),e.adjustPopupPosition()})()}scrollHandler(){var e=this;return(0,s.Z)(function*(){e.calcIsDropDownContentUp(),e.moveOpenHoistedPopup()})()}get container(){return this.containingElement||this.host}get firstDateOfBox(){const e=new Date(this.pointerDate.year,this.pointerDate.month,1);return b(e)}reportValidity(){var e=this;return(0,s.Z)(function*(){return e.inputElement.reportValidity()})()}checkValidity(){var e=this;return(0,s.Z)(function*(){return e.inputElement.checkValidity()})()}setCustomValidity(e){var t=this;return(0,s.Z)(function*(){yield t.inputElement.setCustomValidity(e)})()}reset(){var e=this;return(0,s.Z)(function*(){e.value=e.defaultValue,e.inputElement.value=_(e.defaultValue,e.dateFormat),yield e.inputElement.reset()})()}isValidValue(){return null!=this.value&&(!(this.value instanceof Date)||this.value instanceof Date&&isNaN(this.value))}get calendarGrid(){return(e=>{const{firstDateOfBox:t,allowedDates:i,dateFormat:s,selectedDate:a,minDate:n,maxDate:r,pointerDate:o}=e,l=new Date(t),h=new Date(t);let c=[];do{let e=[];do{e=[...e,{date:new Date(h),display:_(h,s),dateString:_(h,s),label:m(h).toString(),isToday:M(h,d()),isSelected:a&&M(h,a),isDisabled:!i(h)||!w(h,n,r),isOutdated:o.month!==h.getMonth()||!w(h,n,r)}],h.setDate(h.getDate()+1)}while(p=l,M(b(h),b(p)));c=[...c,e],l.setDate(l.getDate()+7)}while(v(new Date(o.year,o.month,o.day),h));var p;return c})({firstDateOfBox:this.firstDateOfBox,allowedDates:this.allowedDates,dateFormat:this.dateFormat,locale:this.locale,selectedDate:this.selectedDate,minDate:this.min,maxDate:this.max,pointerDate:this.pointerDate})}calcIsDropDownContentUp(){if(!this.inputElement||!this.wrapper)return;const e=this.inputElement.getBoundingClientRect(),t=this.wrapper.getBoundingClientRect(),i=Math.max(t.height,400),s=e.y>window.innerHeight/2;this.isDropDownContentUp=s&&window.innerHeight<e.bottom+i}getMonthStringForIndex(e){return h[this.locale].months[e]}previousUnit(){this.selectionMode===L.DAY?this.previousMonth():this.selectionMode===L.MONTH?this.previousYear():this.selectionMode===L.YEAR&&this.previousYearGroup()}previousYear(){this.pointerDate=Object.assign(Object.assign({},this.pointerDate),{year:this.pointerDate.year-1})}previousYearGroup(){this.pointerDate=Object.assign(Object.assign({},this.pointerDate),{year:this.pointerDate.year-25})}previousMonth(){this.pointerDate=0===this.pointerDate.month?{year:this.pointerDate.year-1,month:11,day:1,hours:0,minutes:0,seconds:0}:{year:this.pointerDate.year,month:this.pointerDate.month-1,day:1,hours:0,minutes:0,seconds:0}}nextUnit(){this.selectionMode===L.DAY?this.nextMonth():this.selectionMode===L.MONTH?this.nextYear():this.selectionMode===L.YEAR&&this.nextYearGroup()}nextMonth(){this.pointerDate=11===this.pointerDate.month?{year:this.pointerDate.year+1,month:0,day:1,hours:0,minutes:0,seconds:0}:{year:this.pointerDate.year,month:this.pointerDate.month+1,day:1,hours:0,minutes:0,seconds:0}}nextYear(){this.pointerDate=Object.assign(Object.assign({},this.pointerDate),{year:this.pointerDate.year+1})}nextYearGroup(){this.pointerDate=Object.assign(Object.assign({},this.pointerDate),{year:this.pointerDate.year+25})}openCalendar(){this.open||this.disabled||(this.open=!0,this.setupEventListenersForOpenPopup())}setupEventListenersForOpenPopup(){this.eventListeners.add(document,"keydown",this.handleDocumentKeyDown),this.eventListeners.add(document,"mousedown",this.handleDocumentMouseDown)}handleClearClick(e){e.stopPropagation(),this.select(void 0),this.sixClear.emit()}closePopup(){this.inline||(this.open=!1,this.eventListeners.remove(document,"keydown",this.handleDocumentKeyDown),this.eventListeners.remove(document,"mousedown",this.handleDocumentMouseDown),this.selectionMode=L.DAY)}updatePointerDates(){const e=this.getPointerDate();this.differsFromPointerDate(e)&&(this.pointerDate={year:p(e),month:u(e),day:m(e),hours:g(e),minutes:D(e),seconds:y(e)})}differsFromPointerDate(e){return this.pointerDate.day!==m(e)||this.pointerDate.month!==u(e)||this.pointerDate.year!==p(e)||this.pointerDate.hours!==g(e)||this.pointerDate.minutes!==D(e)||this.pointerDate.seconds!==y(e)}getPointerDate(){return null!=this.selectedDate?this.selectedDate:(0,n.i)(this.defaultDate)?d():this.defaultDate&&H(this.defaultDate,this.dateFormat)}updateValue(e){this.displayCustomMessage(!0),this.updateIfChanged(e)}updateIfChanged(e){var t;(null===(t=this.value)||void 0===t?void 0:t.getTime())!==(null==e?void 0:e.getTime())&&(this.value=e)}select(e){var t=this;return(0,s.Z)(function*(){if(e){const i=H(e,t.dateFormat);i.setHours(t.pointerDate.hours,t.pointerDate.minutes,t.pointerDate.seconds),t.updateValue(i)}else t.updateValue(void 0);t.updatePointerDates(),t.closeOnSelect&&t.closePopup()})()}componentWillLoad(){this.validateProps(),this.defaultValue=this.value,this.selectedDate=this.value,this.updatePointerDates(),this.updateValue(this.value),this.inline&&(this.open=!0),this.open&&this.setupEventListenersForOpenPopup()}validateProps(){if(null!=this.value&&!(this.value instanceof Date))throw new Error("Datepicker no longer supports strings as value. Use a date object instead!");if(null!=this.min&&!(this.min instanceof Date))throw new Error("Datepicker no longer supports strings as min. Use a date object instead!");if(null!=this.max&&!(this.max instanceof Date))throw new Error("Datepicker no longer supports strings as min. Use a date object instead!")}componentDidLoad(){this.eventListeners.add(this.inputElement,"six-input-input",(0,o.a)(this.handleInputChange,this.debounce)),this.eventListeners.add(this.inputElement,"six-input-blur",this.handleOnBlur)}renderHeader(){return(0,a.h)("header",{class:"datepicker-header",part:"header"},(0,a.h)("div",{class:"datepicker-header__btn prev",onClick:()=>this.previousUnit()},(0,a.h)("svg",{viewBox:"0 5 13 13",width:"14",height:"23"},(0,a.h)("path",{d:"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}))),(0,a.h)("div",{class:"datepicker-header__label"},this.selectionMode===L.DAY&&(0,a.h)("div",{onClick:()=>this.selectionMode=L.MONTH},(0,a.h)("span",{class:"datepicker-header__label-month"},this.getMonthStringForIndex(this.pointerDate.month)),(0,a.h)("span",null,(0,a.h)("svg",{viewBox:"-3 -4 24 24",width:"20",height:"20"},(0,a.h)("polyline",{points:"6 9 12 15 18 9"})))),this.selectionMode!==L.YEAR&&(0,a.h)("div",{onClick:()=>this.selectionMode=L.YEAR},(0,a.h)("span",{class:"datepicker-header__label-year"},this.pointerDate.year),(0,a.h)("span",null,(0,a.h)("svg",{viewBox:"-3 -4 24 24",width:"20",height:"20"},(0,a.h)("polyline",{points:"6 9 12 15 18 9"})))),this.selectionMode===L.YEAR&&(0,a.h)("div",null,this.pointerDate.year-Math.floor(12.5)," \u2013"," ",this.pointerDate.year+Math.floor(12.5))),(0,a.h)("div",{class:"datepicker-header__btn next",onClick:()=>this.nextUnit()},(0,a.h)("svg",{viewBox:"5 5 13 13",width:"14",height:"23"},(0,a.h)("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}))))}renderBody(){switch(this.selectionMode){case L.DAY:return(0,a.h)(j,{locale:h[this.locale],calendarGrid:this.calendarGrid,onClickDateCell:this.onClickDateCell});case L.MONTH:return(0,a.h)(P,{locale:h[this.locale],selectedDate:this.selectedDate,onClickMonthCell:this.onClickMonthCell});case L.YEAR:return(0,a.h)(I,{selectedDate:this.selectedDate,yearSelection:N(this.pointerDate.year),onClickYearCell:this.onClickYearCell})}}renderCustomIcon(){const e=(0,l.h)(this.host,"custom-icon")?(0,a.h)("slot",{name:"custom-icon"}):(0,a.h)("six-icon",{size:"large"===this.size?"medium":this.size},"today");return(0,a.h)("span",{slot:"prefix",part:"icon",class:{prefix:!0,"prefix--right":"right"===this.iconPosition}},e)}renderClearable(){return this.clearable&&(0,a.h)("button",{slot:"suffix",class:{"datepicker-clear":!0,"datepicker-clear--right":"left"===this.iconPosition,"datepicker-clear--left":"right"===this.iconPosition},type:"button",onClick:this.handleClearClick,tabindex:"-1"},(0,a.h)("six-icon",{size:"small"},"clear"))}render(){var e,t,i;return this.adjustPopupPosition(),(0,a.h)("div",{ref:e=>this.wrapper=e,class:"datepicker__container"},(0,a.h)("six-input",{part:"base",value:_(this.value,this.dateFormat),ref:e=>this.inputElement=e,placeholder:this.placeholder,readonly:this.readonly,disabled:this.disabled,name:this.name,label:this.label,required:this.required,"error-text":this.errorText,"error-on-blur":this.errorOnBlur,onClick:()=>this.openCalendar(),size:this.size,class:{"input--empty":!this.value}},this.renderCustomIcon(),this.renderClearable(),(0,l.h)(this.host,"error-text")?(0,a.h)("span",{slot:"error-text"},(0,a.h)("slot",{name:"error-text"})):null,(0,l.h)(this.host,"label")?(0,a.h)("span",{slot:"label"},(0,a.h)("slot",{name:"label"})):null),this.open&&(0,a.h)("div",{part:"popup",ref:e=>this.popup=e,class:{datepicker__popup:!0,"datepicker__popup--is-up":this.placement?"top"===this.placement:this.isDropDownContentUp,"datepicker__popup--is-inline":this.inline}},this.renderHeader(),this.renderBody(),"date-time"===this.type&&(0,a.h)("six-timepicker",{inline:!0,"onSix-timepicker-change-debounced":e=>this.onTimepickerChange(e),value:(null===(e=this.selectedDate)||void 0===e?void 0:e.getHours())+":"+(null===(t=this.selectedDate)||void 0===t?void 0:t.getMinutes())+":"+(null===(i=this.selectedDate)||void 0===i?void 0:i.getSeconds())}),(0,a.h)("div",{class:"datepicker__footer"},(0,a.h)("slot",null))))}adjustPopupPosition(){this.adjustPopupForHoisting(),this.adjustPopupForSmallScreens()}moveOpenHoistedPopup(){if(!this.hoist||!this.open)return;const e=this.popup.getBoundingClientRect().height,t=this.inputElement.getBoundingClientRect(),i=t.top,s=t.height;this.calcIsDropDownContentUp(),this.popup.style.top=this.isDropDownContentUp?i-e+"px":`${i+s}px`}adjustPopupForSmallScreens(){setTimeout(()=>{if(!this.popup)return;const e=this.popup.getBoundingClientRect(),t=()=>{this.popup.style.position="fixed",["top","left","width","height"].forEach(t=>{this.popup.style[t]=`${e[t]}px`})};e.y<0&&window.innerHeight-e.height>0&&Math.abs(e.y)<=e.height?(t(),this.popup.style.top="0px"):window.innerHeight<e.y+e.height&&window.innerHeight>e.height&&Math.abs(e.y-window.innerHeight)<=e.height&&(t(),this.popup.style.top=window.innerHeight-e.height+"px"),window.innerWidth<e.x+e.width&&window.innerWidth>e.width&&Math.abs(e.x-window.innerWidth)<=e.width&&(t(),this.popup.style.left=window.innerWidth-e.width+"px")},0)}adjustPopupForHoisting(){this.hoist&&setTimeout(()=>{if(!this.popup)return;const e=this.popup.getBoundingClientRect();this.popup.style.position="fixed",["top","left","width","height"].forEach(t=>{this.popup.style[t]=`${e[t]}px`});const t=this.inputElement.getBoundingClientRect(),i=t.top,s=e.top;this.calcIsDropDownContentUp(),this.isDropDownContentUp&&i<s&&(this.popup.style.top=s-e.height-t.height+"px")},0)}connectedCallback(){this.handleClearClick=this.handleClearClick.bind(this)}disconnectedCallback(){this.eventListeners.removeAll()}displayCustomMessage(e){this.inputElement&&this.setCustomValidity(e?"":this.errorText?this.errorText:"Invalid date format")}static getCurrentDateAsPointer(){return{year:p(d()),month:u(d()),day:m(d()),hours:g(d()),minutes:D(d()),seconds:y(d())}}get host(){return(0,a.g)(this)}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"]}}};z.style=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:block;font-family:var(--six-font-family)}.datepicker__container{position:relative}.datepicker__popup{min-width:400px;background-color:white;padding:0.5em 0.5em 1.5em;box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);user-select:none;position:absolute;z-index:var(--six-z-index-dropdown);right:0;left:0}.datepicker__popup--is-up{bottom:100%;min-height:382px}.datepicker__popup--is-inline{position:initial;box-shadow:none;border:1px solid var(--six-color-web-rock-400)}.datepicker-header{display:flex;justify-content:space-between;border-bottom:1px solid var(--six-color-web-rock-400);padding:0.5em;margin-bottom:1em}.datepicker-header svg{fill:var(--six-color-web-rock-900);stroke:none}.datepicker-header__btn{cursor:pointer;width:2.5em;height:2.5em;display:flex;vertical-align:middle;align-items:center;justify-content:center}.datepicker-header__btn:hover{background-color:var(--six-color-web-rock-100);border-radius:100%}.datepicker-header__label{display:flex}.datepicker-header__label>div{cursor:pointer;padding:0.5em;display:flex;vertical-align:middle;align-items:center;justify-content:center}.datepicker-header__label>div:hover{background-color:var(--six-color-web-rock-100)}.datepicker-table{width:100%}.datepicker-table__cell{text-align:center;width:2.5rem;height:2.5rem;cursor:pointer}.datepicker-table__cell:hover{background-color:var(--six-table-row-background-color-hover)}.datepicker-table__cell--is-today{border:1px solid var(--six-color-web-rock-400)}.datepicker-table__cell--is-selected{background-color:var(--six-color-red);color:var(--six-color-white)}.datepicker-table__cell--is-disabled{background-color:var(--six-color-web-rock-200);cursor:initial}.datepicker-table__cell--is-disabled:hover{background-color:var(--six-color-web-rock-200)}.datepicker-table__cell--is-outdated{color:var(--six-color-web-rock-400)}.datepicker-clear{display:inline-flex;align-items:center;font-size:inherit;color:var(--six-input-icon-color);border:none;background:none;padding:0;transition:var(--six-transition-fast) color;cursor:pointer}.datepicker-clear:hover{color:var(--six-input-icon-color-hover)}.datepicker-clear:focus{outline:none}.datepicker-clear--right{right:0;position:absolute}.datepicker-clear--left{right:35px;position:absolute}.input--empty .datepicker-clear{visibility:hidden}.prefix{cursor:pointer}.prefix--right{right:0;display:inline-flex;position:absolute;font-size:inherit;color:var(--six-input-icon-color);border:none;background:none;margin-right:var(--six-input-spacing-medium);transition:var(--six-transition-fast) color}six-timepicker::part(popup){border:none;padding:0.5em 0.5em 0;min-height:0}"}}]);