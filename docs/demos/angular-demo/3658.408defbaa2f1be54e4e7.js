(self.webpackChunksix_app=self.webpackChunksix_app||[]).push([[3658],{3658:(e,t,i)=>{"use strict";i.r(t),i.d(t,{six_timepicker:()=>f});var n,s=i(6304),r=i(1488),o=i(3754),a=i(2776),h=i(4326),p=i(3655),l=i(1376);!function(e){e.HHmmss="HH:mm:ss",e.hhmmssaa="hh:mm:ss:aa",e.HHmmssms="HH:mm:ss:ms",e.hhmmssmsaa="hh:mm:ss:ms:aa",e.HHmm="HH:mm",e.hhmmaa="hh:mm:aa",e.HH="HH",e.hhaa="hh:aa",e.mm="mm",e.ss="ss",e.ms="ms"}(n||(n={}));const u=e=>e>12?e-12:e,c=":",m=(e,t)=>{const i=e.split(c),n=t.split(c);return i.length===n.length},d=(e,t)=>{const i=e.split(c),n=t.split(c);m(e,t)||console.error(`Timestring did not match expected format.\nExpected format: ${t}\nReceived timestring: ${e}`);const s={};return i.forEach((e,t)=>{const i=n[t],r=a.e[i];void 0!==r&&(i===a.T.PERIOD?s.period=e.toUpperCase()===a.d.PM?a.d.PM:a.d.AM:s[r]=Number(e)),i===a.T.HOUR_24?s.has24Hours=!0:i===a.T.HOUR_12&&(s.has24Hours=!1)}),s},g=(e,t)=>t.split(c).map(t=>{const i=t===a.T.MILLISECOND?3:2;return String(e[a.e[t]]).padStart(i,"0")}).join(c),x="debounced-timepicker";let f=class{constructor(e){(0,r.r)(this,e),this.sixChange=(0,r.c)(this,"six-timepicker-change",7),this.sixChangeDebounced=(0,r.c)(this,"six-timepicker-change-debounced",7),this.sixClear=(0,r.c)(this,"six-timepicker-clear",7),this.eventListeners=new p.E,this.format=n.HHmmss,this.separator=c,this.open=!1,this.inline=!1,this.readonly=!1,this.disabled=!1,this.size="medium",this.errorOnBlur=!1,this.errorText="",this.label="",this.name="",this.clearable=!1,this.iconPosition="left",this.hoist=!1,this.timeout=h.D,this.interval=h.b,this.debounce=h.D,this.isPopupContentUp=!1,this.isDropDownContentUp=!1,this.defaultValue=null,this.handleInputChange=e=>{e.stopPropagation();const t=this.inputElement.value;m(t,this.format)?(this.internalValue=d(t,this.format),this.sixChange.emit({value:this.internalValue,valueAsString:g(this.internalValue,this.format)})):this.sixChange.emit({value:{},valueAsString:""})},this.handleSixTimepickerChangeDebounced=({detail:e})=>{this.sixChangeDebounced.emit(e)},this.handleChange=(e,t)=>{e.stopPropagation(),this.internalValue[t]=e.detail;const i=g(this.internalValue,this.format);this.sixChange.emit({changedProperty:t,value:this.internalValue,valueAsString:i}),this.value=i},this.handleDocumentMouseDown=e=>{e.composedPath().includes(this.host)||this.closePopup()},this.handleClearClick=e=>{e.stopPropagation(),this.value=void 0,this.sixClear.emit()}}resizeHandler(){var e=this;return(0,s.Z)(function*(){e.calcIsPopupContentUp(),e.moveOpenHoistedPopup()})()}scrollHandler(){var e=this;return(0,s.Z)(function*(){e.calcIsPopupContentUp(),e.moveOpenHoistedPopup()})()}debounceChanged(){this.eventListeners.removeByIdentifier(x),this.eventListeners.add(this.host,"six-timepicker-change",(0,h.a)(this.handleSixTimepickerChangeDebounced,this.debounce),x)}valueChanged(e){this.value!==e&&(this.value=e),this.setupInternalTime(),this.sixChange.emit({value:this.internalValue,valueAsString:g(this.internalValue,this.format)})}reportValidity(){var e=this;return(0,s.Z)(function*(){return e.inputElement.reportValidity()})()}checkValidity(){var e=this;return(0,s.Z)(function*(){return e.inputElement.checkValidity()})()}setCustomValidity(e){var t=this;return(0,s.Z)(function*(){yield t.inputElement.setCustomValidity(e)})()}reset(){var e=this;return(0,s.Z)(function*(){e.internalValue=e.defaultValue,e.inputElement.value=g(e.internalValue,e.format),yield e.inputElement.reset()})()}componentWillLoad(){this.setupInternalTime(),this.inline&&(this.open=!0),this.open&&this.eventListeners.add(document,"mousedown",this.handleDocumentMouseDown)}componentDidLoad(){this.eventListeners.add(this.host,"six-timepicker-change",(0,h.a)(this.handleSixTimepickerChangeDebounced,this.debounce),x),this.eventListeners.add(this.inputElement,"six-input-input",(0,h.a)(this.handleInputChange,this.debounce))}disconnectedCallback(){this.eventListeners.removeAll()}calcIsPopupContentUp(){if(!this.inputElement||!this.wrapper)return;const e=this.inputElement.getBoundingClientRect(),t=this.wrapper.getBoundingClientRect(),i=Math.max(t.height,145),n=e.y>window.innerHeight/2;this.isPopupContentUp=n&&window.innerHeight<e.bottom+i}moveOpenHoistedPopup(){if(!this.hoist||!this.open)return;const e=this.popup.getBoundingClientRect().height,t=this.inputElement.getBoundingClientRect(),i=t.top,n=t.height;this.calcIsPopupContentUp(),this.popup.style.top=this.isPopupContentUp?i-e+"px":`${i+n}px`}getSixTimeUnitPicker(e){return(0,r.h)("six-item-picker",{class:e.class,timeout:this.timeout,interval:this.interval,padded:!0,min:e.min,max:e.max,value:this.internalValue[e.propertyName],items:e.items,type:e.type||o.I.NUMBER,"padding-length":e.paddingLength,"onSix-item-picker-change":t=>this.handleChange(t,e.propertyName)})}setupInternalTime(){this.is12HourClock()&&!this.format.includes(a.T.PERIOD)&&console.error("[SIX-TIMEPICKER] You provided a 12-hour-clock format but are missing the period (am or pm) in the time-format-string!"),this.internalValue=null==this.value?(0,a.i)(this.defaultTime)?((e=!0)=>e?(()=>{const e=new Date;return{hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds(),has24Hours:!0}})():(()=>{const e=new Date,t=e.getHours();return{hours:u(t),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds(),has24Hours:!1,period:t>=12?a.d.PM:a.d.AM}})())(this.is24HourClock()):d(this.defaultTime,this.format):d(this.value,this.format),this.defaultValue=this.internalValue}getHour24Picker(){if(this.is24HourClock())return this.getSixTimeUnitPicker({min:0,max:23,propertyName:a.S.HOURS})}is24HourClock(){return this.format.includes(a.T.HOUR_24)}getHour12Picker(){if(this.is12HourClock())return this.getSixTimeUnitPicker({min:0,max:11,propertyName:a.S.HOURS})}is12HourClock(){return this.format.includes(a.T.HOUR_12)}getAmPmPicker(){if(this.is12HourClock())return this.getSixTimeUnitPicker({items:["AM","PM"],type:o.I.CUSTOM,propertyName:a.S.PERIOD})}getMinutePicker(){if(this.format.includes(a.T.MINUTE))return this.getSixTimeUnitPicker({min:0,max:59,propertyName:a.S.MINUTES})}getSecondsPicker(){if(this.format.includes(a.T.SECOND))return this.getSixTimeUnitPicker({min:0,max:59,propertyName:a.S.SECONDS})}getMillisecondsPicker(){if(this.format.includes(a.T.MILLISECOND))return this.getSixTimeUnitPicker({min:0,max:999,class:"timepicker__item--wide",paddingLength:3,propertyName:a.S.MILLISECONDS})}getSeparator(){return(0,r.h)("div",{class:"timepicker__separator"},(0,r.h)("span",null,this.separator))}getContent(){const e=[this.getHour24Picker(),this.getHour12Picker(),this.getMinutePicker(),this.getSecondsPicker(),this.getMillisecondsPicker()].filter(e=>void 0!==e);return e.map((t,i)=>i===e.length-1?[t]:[t,this.getSeparator()])}openPopup(){this.open||this.disabled||(this.open=!0,this.eventListeners.add(document,"mousedown",this.handleDocumentMouseDown))}closePopup(){this.inline||(this.open=!1,this.eventListeners.remove(document,"mousedown",this.handleDocumentMouseDown))}renderClearable(){return this.clearable&&(0,r.h)("button",{slot:"suffix",class:{timepicker_clear:!0,"timepicker_clear--right":"left"===this.iconPosition,"timepicker_clear--left":"right"===this.iconPosition},type:"button",onClick:this.handleClearClick,tabindex:"-1"},(0,r.h)("six-icon",{size:"small"},"clear"))}renderCustomIcon(){const e=(0,l.h)(this.host,"custom-icon")?(0,r.h)("slot",{name:"custom-icon"}):(0,r.h)("six-icon",{size:"large"===this.size?"medium":this.size},"watch_later");return(0,r.h)("span",{slot:"prefix",part:"icon",class:{prefix:!0,"prefix--right":"right"===this.iconPosition}},e)}calcIsDropDownContentUp(){if(!this.inputElement||!this.wrapper)return;const e=this.inputElement.getBoundingClientRect(),t=this.wrapper.getBoundingClientRect(),i=Math.max(t.height,145),n=e.y>window.innerHeight/2;this.isDropDownContentUp=n&&window.innerHeight<e.bottom+i}adjustPopupForHoisting(){this.hoist&&setTimeout(()=>{if(!this.popup)return;const e=this.popup.getBoundingClientRect();this.popup.style.position="fixed",["top","left","width","height"].forEach(t=>{this.popup.style[t]=`${e[t]}px`});const t=this.inputElement.getBoundingClientRect(),i=t.top,n=e.top;this.calcIsDropDownContentUp(),this.isDropDownContentUp&&i<n&&(this.popup.style.top=n-e.height-t.height+"px")},0)}render(){return this.adjustPopupForHoisting(),(0,r.h)("div",{part:"container",ref:e=>this.wrapper=e,class:"timepicker__container"},(0,r.h)("six-input",{ref:e=>this.inputElement=e,part:"input",onClick:()=>this.openPopup(),value:this.value,placeholder:this.placeholder,readonly:this.readonly,disabled:this.disabled,size:this.size,name:this.name,label:this.label,required:this.required,"error-text":this.errorText,"error-on-blur":this.errorOnBlur,class:{"input--empty":!this.value,"input--hide":this.inline}},this.renderCustomIcon(),this.renderClearable(),(0,l.h)(this.host,"error-text")?(0,r.h)("span",{slot:"error-text"},(0,r.h)("slot",{name:"error-text"})):null,(0,l.h)(this.host,"label")?(0,r.h)("span",{slot:"label"},(0,r.h)("slot",{name:"label"})):null),this.open&&(0,r.h)("div",{ref:e=>this.popup=e,part:"popup",class:{timepicker__popup:!0,"timepicker__popup--is-up":this.placement?"top"===this.placement:this.isPopupContentUp,"timepicker__popup--is-inline":this.inline}},...this.getContent(),this.getAmPmPicker()))}get host(){return(0,r.g)(this)}static get watchers(){return{debounce:["debounceChanged"],value:["valueChanged"]}}};f.style=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:block;font-family:var(--six-font-family)}.timepicker_clear{display:inline-flex;align-items:center;font-size:inherit;color:var(--six-input-icon-color);border:none;background:none;padding:0;transition:var(--six-transition-fast) color;cursor:pointer}.timepicker_clear:hover{color:var(--six-input-icon-color-hover)}.timepicker_clear:focus{outline:none}.timepicker_clear--right{right:0;position:absolute}.timepicker_clear--left{right:35px;position:absolute}.timepicker__container{position:relative}.timepicker__popup{display:flex;justify-content:center;min-width:min-content;min-height:145px;background-color:white;padding:0.5em 0.5em 1.5em;box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);user-select:none;position:absolute;z-index:var(--six-z-index-dropdown);right:0;left:0}.timepicker__popup--is-up{bottom:100%}.timepicker__popup--is-inline{position:initial;box-shadow:none;border:1px solid var(--six-color-web-rock-400)}.timepicker__separator{display:flex;align-items:center}.timepicker__item--wide{padding-left:0.5rem;padding-right:0.5rem}.input--empty .timepicker_clear{visibility:hidden}.input--hide{display:none}.prefix{cursor:pointer}.prefix--right{right:0;display:inline-flex;position:absolute;font-size:inherit;color:var(--six-input-icon-color);border:none;background:none;margin-right:var(--six-input-spacing-medium);transition:var(--six-transition-fast) color}"}}]);