(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b0df746"],{"32a1":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const n=e=>t=>Object.keys(e).every(i=>e[i]===t[i]);class s{constructor(){this.eventListeners=[],this.add=(e,t,i,n=null)=>{this.eventListeners.push({el:e,name:t,listener:i,identifier:n}),e.addEventListener(t,i)},this.remove=(e,t,i)=>{const s=n({el:e,name:t,listener:i});this.eventListeners=this.getFilteredEventListeners(s)},this.removeByIdentifier=e=>{const t=t=>t.identifier===e,i=void 0!==this.eventListeners.find(t);i&&(this.eventListeners=this.getFilteredEventListeners(t))},this.removeAll=()=>{while(this.eventListeners.length){const{el:e,name:t,listener:i}=this.eventListeners.pop();e.removeEventListener(t,i)}}}getFilteredEventListeners(e){return this.eventListeners.filter(t=>!e(t)||(t.el.removeEventListener(t.name,t.listener),!1))}}},"551e":function(e,t,i){"use strict";function n(e){const t=e?e.assignedNodes({flatten:!0}):[];let i="";return[...t].map(e=>{e.nodeType===Node.TEXT_NODE&&(i+=e.textContent)}),i}function s(e,t){return t?null!==e.querySelector(`[slot="${t}"]`):Array.from(e.childNodes).some(e=>{if(e.nodeType===e.TEXT_NODE&&""!==e.textContent.trim())return!0;if(e.nodeType===e.ELEMENT_NODE){const t=e;if(!t.hasAttribute("slot"))return!0}return!1})}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return s}));const o=(e,[t,i])=>Object.assign(Object.assign({},e),{[t]:i}),r=e=>t=>Object.values(e).map(e=>[e,s(t,e)]).reduce(o,{}),l=e=>{var t;return null===(t=e.querySelector("slot"))||void 0===t?void 0:t.assignedElements({flatten:!0})}},"6cdc":function(e,t,i){"use strict";function n(e,t){return{top:Math.round(e.getBoundingClientRect().top-t.getBoundingClientRect().top),left:Math.round(e.getBoundingClientRect().left-t.getBoundingClientRect().left)}}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return l})),i.d(t,"d",(function(){return r}));const s=new Set;function o(e){s.add(e),document.body.classList.add("six-scroll-lock")}function r(e){s.delete(e),0===s.size&&document.body.classList.remove("six-scroll-lock")}function l(e,t,i="vertical",s="smooth"){const o=n(e,t),r=o.top+t.scrollTop,l=o.left+t.scrollLeft,h=t.scrollLeft,d=t.scrollLeft+t.offsetWidth,a=t.scrollTop,c=t.scrollTop+t.offsetHeight;"horizontal"!==i&&"both"!==i||(l<h?t.scrollTo({left:l,behavior:s}):l+e.clientWidth>d&&t.scrollTo({left:l-t.offsetWidth+e.clientWidth,behavior:s})),"vertical"!==i&&"both"!==i||(r<a?t.scrollTo({top:r,behavior:s}):r+e.clientHeight>c&&t.scrollTo({top:r-t.offsetHeight+e.clientHeight,behavior:s}))}},"988a":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"d",(function(){return r}));const n=35,s=300,o=(e,t=s)=>{let i;return(...n)=>{clearTimeout(i),i=setTimeout(()=>e.apply(void 0,n),t)}},r=(e,t)=>{const i=e._original||e,n=o(i.emit.bind(i),t);return{_original:e,emit:n}}},b2a1:function(e,t,i){"use strict";i.r(t),i.d(t,"six_dropdown",(function(){return v}));var n=i("c8e7"),s=i("6cdc"),o=i("3e59"),r=i("32a1"),l=i("551e"),h=i("988a");function d(e){const t=e.tabIndex;return t>-1}function a(e){if(d(e))return e;if(e.shadowRoot){const t=[...e.shadowRoot.children].find(d);if(t)return t}return e.children?[...e.children].map(a)[0]:null}const c=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:inline-block}.dropdown{position:relative}.dropdown__trigger{display:block}.dropdown__positioner{position:absolute;z-index:var(--six-z-index-dropdown)}.dropdown__positioner__filtered{width:100%}.dropdown__panel{max-height:50vh;font-family:var(--six-font-sans);font-size:var(--six-font-size-small);font-weight:var(--six-font-weight-normal);color:var(--color);background-color:var(--six-panel-background-color);border-radius:var(--six-border-radius-medium);box-shadow:var(--six-elevation-2dp);opacity:0;overflow:auto;overscroll-behavior:none;pointer-events:none;transform:scale(0.9);transition:var(--six-transition-fast) opacity, var(--six-transition-fast) transform;scrollbar-width:thin}.filter-hidden{display:none}.dropdown__positioner[data-popper-placement^=top] .dropdown__panel{transform-origin:bottom}.dropdown__positioner[data-popper-placement^=bottom] .dropdown__panel{transform-origin:top}.dropdown__positioner[data-popper-placement^=left] .dropdown__panel{transform-origin:right}.dropdown__positioner[data-popper-placement^=right] .dropdown__panel{transform-origin:left}.dropdown__positioner.popover-visible .dropdown__panel{opacity:1;transform:none;pointer-events:all}",p=e=>t=>(null===t||void 0===t?void 0:t.tagName.toLowerCase())===e.toLowerCase(),u=p("six-menu"),f=p("six-menu-item");let g=0,v=class{constructor(e){Object(n["i"])(this,e),this.sixShow=Object(n["e"])(this,"six-dropdown-show",7),this.sixAfterShow=Object(n["e"])(this,"six-dropdown-after-show",7),this.sixHide=Object(n["e"])(this,"six-dropdown-hide",7),this.sixAfterHide=Object(n["e"])(this,"six-dropdown-after-hide",7),this.sixAutoFilterFired=Object(n["e"])(this,"six-dropdown-auto-filter-fired",7),this.sixAsyncFilterFired=Object(n["e"])(this,"six-async-filter-fired",7),this.sixScroll=Object(n["e"])(this,"six-dropdown-scroll",7),this.componentId="dropdown-"+ ++g,this.isVisible=!1,this.hasBeenInitialized=!1,this.open=!1,this.placement="bottom-start",this.closeOnSelect=!0,this.distance=0,this.skidding=0,this.hoist=!1,this.filter=!1,this.asyncFilter=!1,this.filterPlaceholder="Filter...",this.autofocusFilter=!0,this.filterDebounce=h["a"],this.disableHideOnEnterAndSpace=!1,this.eventListeners=new r["a"],this.getMenuItems=()=>{const[e]=Object(l["b"])(this.panel);return Object(l["b"])(e)||Array.from(e.querySelectorAll("six-menu-item"))},this.handleFilterInputChange=()=>{const e=this.filterInputElement.value.toLowerCase().trim(),t=this.getMenuItems();t.forEach(t=>{var i,n;const s=null===(i=null===t||void 0===t?void 0:t.value)||void 0===i?void 0:i.toLowerCase(),o=null===(n=null===t||void 0===t?void 0:t.innerText)||void 0===n?void 0:n.toLowerCase(),r=(null===s||void 0===s?void 0:s.includes(e))||(null===o||void 0===o?void 0:o.includes(e));t.style.display=r?"unset":"none"}),this.sixAutoFilterFired.emit({filterValue:e})}}get hasFilterEnabled(){return this.filter||this.asyncFilter}get container(){return this.containingElement||this.host}handleOpenChange(){this.open?this.show():this.hide(),this.updateAccessibleTrigger()}handlePopoverOptionsChange(){this.popover.setOptions({strategy:this.hoist?"fixed":"absolute",placement:this.placement,distance:this.distance,skidding:this.skidding})}connectedCallback(){this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentMouseDown=this.handleDocumentMouseDown.bind(this),this.handleMenuItemActivate=this.handleMenuItemActivate.bind(this),this.handlePanelSelect=this.handlePanelSelect.bind(this),this.handleTriggerClick=this.handleTriggerClick.bind(this),this.handleTriggerKeyDown=this.handleTriggerKeyDown.bind(this),this.handleTriggerKeyUp=this.handleTriggerKeyUp.bind(this),this.handleTriggerSlotChange=this.handleTriggerSlotChange.bind(this),this.handleDropdownScroll=this.handleDropdownScroll.bind(this),this.hasBeenInitialized&&!this.popover&&this.initializePopover()}componentDidLoad(){this.hasBeenInitialized=!0,this.initializePopover(),this.open&&this.show(),this.filter?this.setupFiltering(this.handleFilterInputChange):this.asyncFilter&&this.setupFiltering(()=>this.sixAsyncFilterFired.emit({filterValue:this.filterInputElement.value}))}initializePopover(){const e=()=>{if(this.filter){const e=this.getMenuItems();e.forEach(e=>e.style.display="unset"),this.filterInputElement.value=""}this.sixAfterHide.emit()},t=async()=>{this.hasFilterEnabled&&this.autofocusFilter&&await this.filterInputElement.setFocus(),this.sixAfterShow.emit()},i=()=>{this.open||(this.panel.scrollTop=0)};this.popover=new o["a"](this.trigger,this.positioner,{strategy:this.hoist?"fixed":"absolute",placement:this.placement,distance:this.distance,skidding:this.skidding,transitionElement:this.panel,onAfterHide:e,onAfterShow:t,onTransitionEnd:i})}setupFiltering(e){this.eventListeners.add(this.filterInputElement,"six-input-input",Object(h["b"])(e,this.filterDebounce))}disconnectedCallback(){this.eventListeners.removeAll(),this.hide(),this.popover.destroy(),this.popover=null}async show(){if(this.isVisible)return;const e=this.sixShow.emit();e.defaultPrevented?this.open=!1:(this.eventListeners.add(this.panel,"six-menu-item-selected",this.handlePanelSelect),this.eventListeners.add(document,"keydown",this.handleDocumentKeyDown),this.eventListeners.add(document,"mousedown",this.handleDocumentMouseDown),this.isVisible=!0,this.open=!0,this.popover.show())}async hide(){if(!this.isVisible)return;const e=this.sixHide.emit();e.defaultPrevented?this.open=!0:(this.eventListeners.remove(this.panel,"six-menu-item-selected",this.handlePanelSelect),this.eventListeners.remove(document,"keydown",this.handleDocumentKeyDown),this.eventListeners.remove(document,"mousedown",this.handleDocumentMouseDown),this.isVisible=!1,this.open=!1,this.popover.hide())}focusOnTrigger(){const[e]=Object(l["b"])(this.trigger);e&&("function"===typeof e.setFocus?e.setFocus():"function"===typeof e.focus&&e.focus())}getMenu(){const[e]=Object(l["b"])(this.panel).filter(u);return e}async reposition(){this.open&&this.popover.reposition()}handleDocumentKeyDown(e){if("Escape"===e.key)return this.hide(),void this.focusOnTrigger();if(this.filterInputElement===this.host.shadowRoot.activeElement&&"ArrowDown"===e.key){const e=this.getMenuItems().find(e=>"none"!==e.style.display);e&&e.setFocus()}if("Tab"===e.key){if(this.open&&f(document.activeElement))return e.preventDefault(),this.hide(),void this.focusOnTrigger();setTimeout(()=>{var e;const t=this.container.getRootNode()instanceof ShadowRoot?null===(e=document.activeElement.shadowRoot)||void 0===e?void 0:e.activeElement:document.activeElement;(null===t||void 0===t?void 0:t.closest(this.container.tagName.toLowerCase()))===this.container||this.hide()})}}handleDocumentMouseDown(e){const t=e.composedPath();t.includes(this.container)||this.hide()}handleMenuItemActivate(e){const t=e.target;Object(s["c"])(t,this.panel)}handlePanelSelect(e){const t=e.target;this.closeOnSelect&&u(t)&&(this.hide(),this.focusOnTrigger())}handleTriggerClick(){this.open?this.hide():this.show()}handleTriggerKeyDown(e){const t=this.getMenu(),i=t?[...t.querySelectorAll("six-menu-item")]:null,n=i[0],s=i[i.length-1];if("Escape"===e.key)return this.focusOnTrigger(),void this.hide();if(!this.disableHideOnEnterAndSpace&&[" ","Enter"].includes(e.key))return e.preventDefault(),void(this.open?this.hide():this.show());if(["ArrowDown","ArrowUp"].includes(e.key)){if(e.preventDefault(),this.open||this.show(),"ArrowDown"===e.key&&n)return void n.setFocus();if("ArrowUp"===e.key&&s)return void s.setFocus()}const o=["Tab","Shift","Meta","Ctrl","Alt"];this.open&&t&&!o.includes(e.key)&&t.typeToSelect(e.key)}handleTriggerKeyUp(e){" "===e.key&&e.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}handleDropdownScroll(){this.sixScroll.emit({scrollHeight:this.panel.scrollHeight,scrollTop:this.panel.scrollTop,scrollbarHeight:this.panel.offsetHeight*(this.panel.offsetHeight/this.panel.scrollHeight),scrollRatio:this.panel.scrollTop/(this.panel.scrollHeight-this.panel.clientHeight)})}updateAccessibleTrigger(){const[e]=Object(l["b"])(this.trigger).map(a);e&&(e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded",this.open?"true":"false"))}render(){return Object(n["g"])("div",{part:"base",id:this.componentId,class:{dropdown:!0,"dropdown--open":this.open}},Object(n["g"])("span",{part:"trigger",class:"dropdown__trigger",ref:e=>this.trigger=e,onClick:this.handleTriggerClick,onKeyDown:this.handleTriggerKeyDown,onKeyUp:this.handleTriggerKeyUp},Object(n["g"])("slot",{name:"trigger",onSlotchange:this.handleTriggerSlotChange})),Object(n["g"])("div",{ref:e=>this.positioner=e,class:{dropdown__positioner:!0,dropdown__positioner__filtered:(this.filter||this.asyncFilter)&&!this.hoist}},this.hasFilterEnabled&&Object(n["g"])("six-input",{class:{"filter-hidden":!this.open},"aria-hidden":this.open?"false":"true",ref:e=>this.filterInputElement=e,placeholder:this.filterPlaceholder}),Object(n["g"])("div",{ref:e=>this.panel=e,part:"panel",class:"dropdown__panel",role:"menu","aria-hidden":this.open?"false":"true","aria-labelledby":this.componentId,onScroll:this.handleDropdownScroll},Object(n["g"])("slot",null))))}get host(){return Object(n["f"])(this)}static get watchers(){return{open:["handleOpenChange"],distance:["handlePopoverOptionsChange"],hoist:["handlePopoverOptionsChange"],placement:["handlePopoverOptionsChange"],skidding:["handlePopoverOptionsChange"]}}};v.style=c}}]);
//# sourceMappingURL=chunk-7b0df746.5c56667b.js.map