{"version":3,"sources":["webpack:///./node_modules/@six/ui-library/dist/esm/types-33d15673.js","webpack:///./node_modules/@six/ui-library/dist/esm/six-table.entry.js"],"names":["SortDirection","FilterMode","assertions","value","columns","Array","isArray","rows","undefined","sort","apply","f","isData","every","Invalid","Term","length","modes","Includes","a","b","includes","NotIncludes","Equals","NotEquals","filterBy","filterModel","item","_a","keys","Object","key","filter","mode","term","entries","String","unordered","None","DEFAULT_COMPARATOR","localeCompare","sortBy","compare","items","values","reduce","acc","k","v","index","comparator","direction","Asc","Desc","quickFilterBy","toLowerCase","source","map","join","propOr","o","defaults","fromData","data","handleRowClick","handleCellClick","byKey","name","quickFilter","cells","renderer","render","html","onClick","innerHTML","sixTableCss","SixTable","hostRef","this","tableReady","tableRowClicked","tableCellClicked","striped","loading","event","emit","detail","class","style"],"mappings":"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","file":"js/chunk-f8fe7876.6670facc.js","sourcesContent":["var SortDirection;\r\n(function (SortDirection) {\r\n  SortDirection[\"None\"] = \"none\";\r\n  SortDirection[\"Asc\"] = \"asc\";\r\n  SortDirection[\"Desc\"] = \"desc\";\r\n})(SortDirection || (SortDirection = {}));\r\nvar FilterMode;\r\n(function (FilterMode) {\r\n  FilterMode[\"Equals\"] = \"eq\";\r\n  FilterMode[\"NotEquals\"] = \"ne\";\r\n  FilterMode[\"Includes\"] = \"in\";\r\n  FilterMode[\"NotIncludes\"] = \"ni\";\r\n})(FilterMode || (FilterMode = {}));\n\nexport { FilterMode as F, SortDirection as S };\n","import { h, F as Fragment, r as registerInstance, c as createEvent, H as Host, g as getElement } from './index-a2605a62.js';\nimport { F as FilterMode, S as SortDirection } from './types-33d15673.js';\n\nconst assertions = [\r\n  (value) => typeof value === 'object',\r\n  (value) => typeof value.columns === 'object',\r\n  (value) => Array.isArray(value.rows),\r\n  (value) => value.sort === undefined || typeof value.sort === 'object',\r\n];\r\nconst apply = (value) => (f) => f(value);\r\nconst isData = (value) => assertions.every(apply(value));\n\nconst Invalid = {\r\n  Term: (value) => typeof value !== 'string' || value.length < 1,\r\n};\n\nconst modes = {\r\n  [FilterMode.Includes]: (a, b) => a.includes(b),\r\n  [FilterMode.NotIncludes]: (a, b) => !a.includes(b),\r\n  [FilterMode.Equals]: (a, b) => a === b,\r\n  [FilterMode.NotEquals]: (a, b) => a !== b,\r\n};\r\nconst filterBy = (filterModel = {}) => (item) => {\r\n  var _a;\r\n  const keys = Object.keys(filterModel);\r\n  if (keys.length === 0) {\r\n    return true;\r\n  }\r\n  for (const key of keys) {\r\n    const filter = filterModel[key];\r\n    if (!filter) {\r\n      return true;\r\n    }\r\n    for (const [mode, term] of Object.entries(filter)) {\r\n      if (Invalid.Term(term)) {\r\n        continue;\r\n      }\r\n      const value = String((_a = item[key]) !== null && _a !== void 0 ? _a : '');\r\n      if (Invalid.Term(value)) {\r\n        continue;\r\n      }\r\n      if (!modes[mode](value, term)) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n};\n\nconst unordered = (value) => value === SortDirection.None;\r\nconst DEFAULT_COMPARATOR = (a, b) => String(a).localeCompare(String(b));\r\nconst sortBy = (sort = {}, compare = {}) => (items) => {\r\n  const values = Object.values(sort);\r\n  if (values.length === 0 || values.every(unordered)) {\r\n    return items;\r\n  }\r\n  return [...items].sort((a, b) => {\r\n    return Object.entries(sort).reduce((acc, [k, v], index) => {\r\n      if (v === SortDirection.None) {\r\n        return acc;\r\n      }\r\n      const comparator = compare[k];\r\n      const direction = {\r\n        [SortDirection.Asc]: +1,\r\n        [SortDirection.Desc]: -1,\r\n      }[v];\r\n      if (comparator) {\r\n        return acc + direction * (comparator(a, b) << index);\r\n      }\r\n      return acc + direction * (DEFAULT_COMPARATOR(a[k], b[k]) << index);\r\n    }, 0);\r\n  });\r\n};\n\nconst quickFilterBy = (keys, value) => (item) => {\r\n  if (Invalid.Term(value)) {\r\n    return true;\r\n  }\r\n  const term = value.toLowerCase();\r\n  const source = keys\r\n    .map((key) => { var _a; return (_a = item[key]) !== null && _a !== void 0 ? _a : ''; })\r\n    .map(String)\r\n    .join()\r\n    .toLowerCase();\r\n  return source.includes(term);\r\n};\n\nconst propOr = (k) => (o = {}, defaults) => o[k] || defaults;\r\nconst fromData = ({ data, handleRowClick, handleCellClick }) => {\r\n  if (!isData(data)) {\r\n    return;\r\n  }\r\n  const keys = Object.keys(data.columns);\r\n  const columns = keys.map((key) => {\r\n    const byKey = propOr(key);\r\n    const sort = byKey(data.sort, undefined);\r\n    const [[filter, value] = []] = Object.entries(byKey(data.filter, {}));\r\n    return (h(\"six-table-header-cell\", { name: key, sort: sort, filter: filter, value: value }, data.columns[key]));\r\n  });\r\n  const quickFilter = quickFilterBy(Object.keys(data.columns), data.quickFilter);\r\n  const filter = filterBy(data.filter);\r\n  const sort = sortBy(data.sort, data.compare);\r\n  const rows = sort(data.rows.filter(quickFilter).filter(filter)).map((item, index) => {\r\n    const cells = keys.map((key) => {\r\n      const renderer = data.render && data.render[key];\r\n      // HTML is not escaped, responsibility lays on the caller\r\n      const html = typeof renderer === 'function' ? renderer(item) : String(item[key]);\r\n      return (h(\"six-table-cell\", { onClick: handleCellClick(item, key), \"data-testid\": `table-cell-${key}-${index}`, innerHTML: html }));\r\n    });\r\n    return (h(\"six-table-row\", { onClick: handleRowClick(item), \"data-testid\": `table-row-${index}` }, cells));\r\n  });\r\n  return (h(Fragment, null,\r\n    h(\"six-table-header\", { \"data-testid\": \"table-header\" }, columns),\r\n    rows));\r\n};\n\nconst sixTableCss = \":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:table;border-collapse:collapse;user-select:none;border:none;width:100%;height:100%}:host([loading]){border-collapse:separate}:host([striped]) six-table-row:nth-child(odd):not(:hover),:host([striped]) ::slotted(six-table-row:nth-child(odd):not(:hover)){background-color:var(--six-table-row-background-color)}:host(:not(striped)) ::slotted(six-table-row){border-bottom:solid 1px var(--six-table-row-border-color)}.loading{position:absolute;background-color:var(--six-table-background-color);top:0;left:0;width:100%;height:100%}.loading six-spinner{top:calc(50% - 0.5em);left:50%;transform:scale(3)}\";\n\nlet SixTable = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.tableReady = createEvent(this, \"six-table-ready\", 7);\r\n    this.tableRowClicked = createEvent(this, \"six-table-row-clicked\", 7);\r\n    this.tableCellClicked = createEvent(this, \"six-table-cell-clicked\", 7);\r\n    /** Set to true to stripe the table. */\r\n    this.striped = false;\r\n    /** Set to true to display loading indicator. */\r\n    this.loading = false;\r\n    this.data = {\r\n      columns: {},\r\n      rows: [],\r\n    };\r\n    this.handleRowClick = (item) => (event) => {\r\n      this.tableRowClicked.emit({ event, item });\r\n    };\r\n    this.handleCellClick = (item, key) => (event) => {\r\n      this.tableCellClicked.emit({ event, item, key });\r\n    };\r\n  }\r\n  handleData({ detail }) {\r\n    if (!isData(detail)) {\r\n      return;\r\n    }\r\n    this.data = detail;\r\n  }\r\n  async setData(value) {\r\n    if (!isData(value)) {\r\n      return;\r\n    }\r\n    this.data = value;\r\n  }\r\n  componentDidLoad() {\r\n    this.tableReady.emit();\r\n  }\r\n  render() {\r\n    const loading = this.loading && (h(\"div\", { class: \"loading\" }, h(\"six-spinner\", { \"data-testid\": \"loading-spinner\" })));\r\n    return (h(Host, null, h(\"slot\", null, fromData(this)), loading));\r\n  }\r\n  get host() { return getElement(this); }\r\n};\r\nSixTable.style = sixTableCss;\n\nexport { SixTable as six_table };\n"],"sourceRoot":""}