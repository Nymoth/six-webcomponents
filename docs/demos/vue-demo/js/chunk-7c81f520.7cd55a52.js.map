{"version":3,"sources":["webpack:///./node_modules/@six/ui-library/dist/esm/event-listeners-1bef934e.js","webpack:///./node_modules/@six/ui-library/dist/esm/six-search-field.entry.js","webpack:///./node_modules/@six/ui-library/dist/esm/execution-control-235f5126.js"],"names":["equals","a","b","Object","keys","every","key","EventListeners","this","eventListeners","add","el","name","listener","identifier","push","addEventListener","remove","sameItem","getFilteredEventListeners","removeByIdentifier","foundListener","undefined","find","removeAll","length","pop","removeEventListener","filter","item","sixSearchFieldCss","SixSearchField","hostRef","searchFieldChange","debounce","disabled","value","clearable","handleInputChange","emit","inputElement","event","class","ref","placeholder","slot","size","onClick","style","DEFAULT_DEBOUNCE_INSANELY_FAST","DEFAULT_DEBOUNCE_FAST","callback","timeout","timer","args","clearTimeout","setTimeout","apply","debounceEvent","original","_original","bind"],"mappings":"kHAAA,wCAAMA,EAAUC,GAAOC,GAAMC,OAAOC,KAAKH,GAAGI,MAAOC,GAAQL,EAAEK,KAASJ,EAAEI,IACxE,MAAMC,EACJ,cACEC,KAAKC,eAAiB,GACtBD,KAAKE,IAAM,CAACC,EAAIC,EAAMC,EAAUC,EAAa,QAC3CN,KAAKC,eAAeM,KAAK,CAAEJ,KAAIC,OAAMC,WAAUC,eAC/CH,EAAGK,iBAAiBJ,EAAMC,IAE5BL,KAAKS,OAAS,CAACN,EAAIC,EAAMC,KACvB,MAAMK,EAAWlB,EAAO,CAAEW,KAAIC,OAAMC,aACpCL,KAAKC,eAAiBD,KAAKW,0BAA0BD,IAEvDV,KAAKY,mBAAsBN,IACzB,MAAMI,EAAYP,GAAOA,EAAGG,aAAeA,EACrCO,OAAuDC,IAAvCd,KAAKC,eAAec,KAAKL,GAC1CG,IAGLb,KAAKC,eAAiBD,KAAKW,0BAA0BD,KAEvDV,KAAKgB,UAAY,KACf,MAAOhB,KAAKC,eAAegB,OAAQ,CACjC,MAAM,GAAEd,EAAE,KAAEC,EAAI,SAAEC,GAAaL,KAAKC,eAAeiB,MACnDf,EAAGgB,oBAAoBf,EAAMC,KAInC,0BAA0BK,GACxB,OAAOV,KAAKC,eAAemB,OAAQC,IAC7BX,EAASW,KACXA,EAAKlB,GAAGgB,oBAAoBE,EAAKjB,KAAMiB,EAAKhB,WACrC,O,oCC/Bf,gGAIA,MAAMiB,EAAoB,kNAE1B,IAAIC,EAAiB,MACnB,YAAYC,GACV,eAAiBxB,KAAMwB,GACvBxB,KAAKyB,kBAAoB,eAAYzB,KAAM,0BAA2B,GAEtEA,KAAK0B,SAAW,OAEhB1B,KAAK2B,UAAW,EAEhB3B,KAAK4B,MAAQ,GAEb5B,KAAK6B,WAAY,EACjB7B,KAAKC,eAAiB,IAAI,OAC1BD,KAAK8B,kBAAoB,KACvB9B,KAAKyB,kBAAkBM,KAAK,CAAEH,MAAO5B,KAAKgC,aAAaJ,SAG3D,oBACM5B,KAAKgC,eACPhC,KAAKgC,aAAaJ,MAAQ5B,KAAK4B,OAGnC,mBACE5B,KAAKC,eAAeC,IAAIF,KAAKgC,aAAc,kBAAmB,eAAShC,KAAK8B,kBAAmB9B,KAAK0B,WACpG1B,KAAKC,eAAeC,IAAIF,KAAKgC,aAAc,UAAYC,IACnC,UAAdA,EAAMnC,KAERE,KAAK8B,sBAIX,uBACE9B,KAAKC,eAAee,YAEtB,SACE,OAAQ,cAAD,CAAG,MAAO,CAAEkB,MAAO,cAAgB,eAAE,YAAa,CAAEC,IAAMhC,GAAQH,KAAKgC,aAAe7B,EAAKiC,YAAapC,KAAKoC,YAAaR,MAAO5B,KAAK4B,MAAOD,SAAU3B,KAAK2B,SAAUE,UAAW7B,KAAK6B,WAAa,eAAE,WAAY,CAAEK,MAAO,mBAAoBG,KAAM,SAAUC,KAAM,QAASC,QAASvC,KAAK8B,mBAAqB,WAAY,eAAE,OAAQ,OAE/U,sBAAwB,MAAO,CAC7B,MAAS,CAAC,wBAGdP,EAAeiB,MAAQlB,G,oCC/CvB,8IAAMmB,EAAiC,GACjCC,EAAwB,IAcxBhB,EAAW,CAACiB,EAAUC,EAAUF,KACpC,IAAIG,EACJ,MAAO,IAAIC,KACTC,aAAaF,GACbA,EAAQG,WAAW,IAAML,EAASM,WAAMnC,EAAWgC,GAAOF,KASxDM,EAAgB,CAACjB,EAAOW,KAC5B,MAAMO,EAAWlB,EAAMmB,WAAanB,EAC9BF,EAAOL,EAASyB,EAASpB,KAAKsB,KAAKF,GAAWP,GACpD,MAAO,CACLQ,UAAWnB,EACXF,KAAMA","file":"js/chunk-7c81f520.7cd55a52.js","sourcesContent":["const equals = (a) => (b) => Object.keys(a).every((key) => a[key] === b[key]);\r\nclass EventListeners {\r\n  constructor() {\r\n    this.eventListeners = [];\r\n    this.add = (el, name, listener, identifier = null) => {\r\n      this.eventListeners.push({ el, name, listener, identifier });\r\n      el.addEventListener(name, listener);\r\n    };\r\n    this.remove = (el, name, listener) => {\r\n      const sameItem = equals({ el, name, listener });\r\n      this.eventListeners = this.getFilteredEventListeners(sameItem);\r\n    };\r\n    this.removeByIdentifier = (identifier) => {\r\n      const sameItem = (el) => el.identifier === identifier;\r\n      const foundListener = this.eventListeners.find(sameItem) !== undefined;\r\n      if (!foundListener) {\r\n        return;\r\n      }\r\n      this.eventListeners = this.getFilteredEventListeners(sameItem);\r\n    };\r\n    this.removeAll = () => {\r\n      while (this.eventListeners.length) {\r\n        const { el, name, listener } = this.eventListeners.pop();\r\n        el.removeEventListener(name, listener);\r\n      }\r\n    };\r\n  }\r\n  getFilteredEventListeners(sameItem) {\r\n    return this.eventListeners.filter((item) => {\r\n      if (sameItem(item)) {\r\n        item.el.removeEventListener(item.name, item.listener);\r\n        return false;\r\n      }\r\n      else {\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n}\n\nexport { EventListeners as E };\n","import { r as registerInstance, c as createEvent, h } from './index-a2605a62.js';\nimport { D as DEFAULT_DEBOUNCE_FAST, a as debounce } from './execution-control-235f5126.js';\nimport { E as EventListeners } from './event-listeners-1bef934e.js';\n\nconst sixSearchFieldCss = \":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:block}.search-box{z-index:var(--six-z-index-search-field)}.search-box__icon{cursor:pointer}\";\n\nlet SixSearchField = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.searchFieldChange = createEvent(this, \"six-search-field-change\", 7);\r\n    /** Debounce time in milliseconds, default is 300 ms */\r\n    this.debounce = DEFAULT_DEBOUNCE_FAST;\r\n    /** Set to true to disable the input. */\r\n    this.disabled = false;\r\n    /** The input's value attribute. */\r\n    this.value = '';\r\n    /** Set to true to add a clear button when the input is populated. */\r\n    this.clearable = false;\r\n    this.eventListeners = new EventListeners();\r\n    this.handleInputChange = () => {\r\n      this.searchFieldChange.emit({ value: this.inputElement.value });\r\n    };\r\n  }\r\n  handleValueChange() {\r\n    if (this.inputElement) {\r\n      this.inputElement.value = this.value;\r\n    }\r\n  }\r\n  componentDidLoad() {\r\n    this.eventListeners.add(this.inputElement, 'six-input-input', debounce(this.handleInputChange, this.debounce));\r\n    this.eventListeners.add(this.inputElement, 'keydown', (event) => {\r\n      if (event.key === 'Enter') {\r\n        // emit immediately\r\n        this.handleInputChange();\r\n      }\r\n    });\r\n  }\r\n  disconnectedCallback() {\r\n    this.eventListeners.removeAll();\r\n  }\r\n  render() {\r\n    return (h(\"div\", { class: \"search-box\" }, h(\"six-input\", { ref: (el) => (this.inputElement = el), placeholder: this.placeholder, value: this.value, disabled: this.disabled, clearable: this.clearable }, h(\"six-icon\", { class: \"search-box__icon\", slot: \"prefix\", size: \"small\", onClick: this.handleInputChange }, \"search\")), h(\"slot\", null)));\r\n  }\r\n  static get watchers() { return {\r\n    \"value\": [\"handleValueChange\"]\r\n  }; }\r\n};\r\nSixSearchField.style = sixSearchFieldCss;\n\nexport { SixSearchField as six_search_field };\n","const DEFAULT_DEBOUNCE_INSANELY_FAST = 35;\r\nconst DEFAULT_DEBOUNCE_FAST = 300;\r\n/**\r\n * Debounce function to implement a timeframe to wait for no new changes before executing a callback\r\n\r\n *  example usages:\r\n *    debounce(() => saveInput());\r\n *    debounce(() => saveInput(), 750);\r\n *    this.searchInput.addEventListener('six-input-input', debounce((event) => this.searchInputChange(event)));\r\n *\r\n *  regarding default timeout check https://lawsofux.com/doherty-threshold/\r\n *\r\n * @param callback\r\n * @param timeout\r\n */\r\nconst debounce = (callback, timeout = DEFAULT_DEBOUNCE_FAST) => {\r\n  let timer;\r\n  return (...args) => {\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => callback.apply(undefined, args), timeout);\r\n  };\r\n};\r\n/**\r\n * Debounce an event\r\n *\r\n * @param event\r\n * @param timeout\r\n */\r\nconst debounceEvent = (event, timeout) => {\r\n  const original = event._original || event;\r\n  const emit = debounce(original.emit.bind(original), timeout);\r\n  return {\r\n    _original: event,\r\n    emit: emit,\r\n  };\r\n};\n\nexport { DEFAULT_DEBOUNCE_FAST as D, debounce as a, DEFAULT_DEBOUNCE_INSANELY_FAST as b, debounceEvent as d };\n"],"sourceRoot":""}