{"version":3,"sources":["webpack:///./node_modules/@six/ui-library/dist/esm/event-listeners-1bef934e.js","webpack:///./node_modules/@six/ui-library/dist/esm/slot-5253e199.js","webpack:///./node_modules/@six/ui-library/dist/esm/scroll-99b214c2.js","webpack:///./node_modules/@six/ui-library/dist/esm/execution-control-235f5126.js","webpack:///./node_modules/@six/ui-library/dist/esm/six-dropdown.entry.js"],"names":["equals","a","b","Object","keys","every","key","EventListeners","this","eventListeners","add","el","name","listener","identifier","push","addEventListener","remove","sameItem","getFilteredEventListeners","removeByIdentifier","foundListener","undefined","find","removeAll","length","pop","removeEventListener","filter","item","getTextContent","slot","nodes","assignedNodes","flatten","text","map","node","nodeType","Node","TEXT_NODE","textContent","hasSlot","querySelector","Array","from","childNodes","some","trim","ELEMENT_NODE","hasAttribute","fromPairs","acc","k","v","assign","getAvailableSlots","slots","host","values","reduce","getSlotChildren","_a","assignedElements","getOffset","element","parent","top","Math","round","getBoundingClientRect","left","locks","Set","lockBodyScrolling","lockingEl","document","body","classList","unlockBodyScrolling","delete","size","scrollIntoView","container","direction","behavior","offset","offsetTop","scrollTop","offsetLeft","scrollLeft","minX","maxX","offsetWidth","minY","maxY","offsetHeight","scrollTo","clientWidth","clientHeight","DEFAULT_DEBOUNCE_INSANELY_FAST","DEFAULT_DEBOUNCE_FAST","debounce","callback","timeout","timer","args","clearTimeout","setTimeout","apply","debounceEvent","event","original","_original","emit","bind","isTabbable","tabIndex","getNearestTabbableElement","shadowRoot","tabbableShadowChild","children","sixDropdownCss","isTagName","tagName","toLowerCase","isSixMenu","isSixMenuItem","id","SixDropdown","hostRef","sixShow","sixAfterShow","sixHide","sixAfterHide","sixAutoFilterFired","sixAsyncFilterFired","sixScroll","componentId","isVisible","hasBeenInitialized","open","placement","closeOnSelect","distance","skidding","hoist","asyncFilter","filterPlaceholder","autofocusFilter","filterDebounce","disableHideOnEnterAndSpace","getMenuItems","panel","querySelectorAll","handleFilterInputChange","lowerCaseFilterTerm","filterInputElement","value","menuItems","forEach","menuItem","_b","lowerCaseMenuItemValue","lowerCaseMenuText","innerText","elementContainsFilterTerm","includes","style","display","filterValue","containingElement","show","hide","updateAccessibleTrigger","popover","setOptions","strategy","handleDocumentKeyDown","handleDocumentMouseDown","handleMenuItemActivate","handlePanelSelect","handleTriggerClick","handleTriggerKeyDown","handleTriggerKeyUp","handleTriggerSlotChange","handleDropdownScroll","initializePopover","setupFiltering","onAfterHide","onAfterShow","async","hasFilterEnabled","setFocus","onTransitionEnd","trigger","positioner","transitionElement","destroy","defaultPrevented","focus","menu","reposition","focusOnTrigger","activeElement","preventDefault","getRootNode","ShadowRoot","closest","path","composedPath","target","getMenu","firstMenuItem","lastMenuItem","ignoredKeys","typeToSelect","scrollHeight","scrollbarHeight","scrollRatio","accessibleTrigger","setAttribute","part","class","dropdown","ref","onClick","onKeyDown","onKeyUp","onSlotchange","dropdown__positioner","dropdown__positioner__filtered","placeholder","role","onScroll"],"mappings":"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","file":"js/chunk-7b0df746.5c56667b.js","sourcesContent":["const equals = (a) => (b) => Object.keys(a).every((key) => a[key] === b[key]);\r\nclass EventListeners {\r\n  constructor() {\r\n    this.eventListeners = [];\r\n    this.add = (el, name, listener, identifier = null) => {\r\n      this.eventListeners.push({ el, name, listener, identifier });\r\n      el.addEventListener(name, listener);\r\n    };\r\n    this.remove = (el, name, listener) => {\r\n      const sameItem = equals({ el, name, listener });\r\n      this.eventListeners = this.getFilteredEventListeners(sameItem);\r\n    };\r\n    this.removeByIdentifier = (identifier) => {\r\n      const sameItem = (el) => el.identifier === identifier;\r\n      const foundListener = this.eventListeners.find(sameItem) !== undefined;\r\n      if (!foundListener) {\r\n        return;\r\n      }\r\n      this.eventListeners = this.getFilteredEventListeners(sameItem);\r\n    };\r\n    this.removeAll = () => {\r\n      while (this.eventListeners.length) {\r\n        const { el, name, listener } = this.eventListeners.pop();\r\n        el.removeEventListener(name, listener);\r\n      }\r\n    };\r\n  }\r\n  getFilteredEventListeners(sameItem) {\r\n    return this.eventListeners.filter((item) => {\r\n      if (sameItem(item)) {\r\n        item.el.removeEventListener(item.name, item.listener);\r\n        return false;\r\n      }\r\n      else {\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n}\n\nexport { EventListeners as E };\n","//\r\n//\r\n// Given a slot, this function iterates over all of its assigned text nodes and returns the concatenated text as a\r\n// string. This is useful because we can't use slot.textContent as an alternative.\r\n//\r\nfunction getTextContent(slot) {\r\n  const nodes = slot ? slot.assignedNodes({ flatten: true }) : [];\r\n  let text = '';\r\n  [...nodes].map((node) => {\r\n    if (node.nodeType === Node.TEXT_NODE) {\r\n      text += node.textContent;\r\n    }\r\n  });\r\n  return text;\r\n}\r\n//\r\n// Determines whether an element has a slot. If name is specified, the function will look for a corresponding named\r\n// slot, otherwise it will look for a \"default\" slot (e.g. a non-empty text node or an element with no slot attribute).\r\n//\r\nfunction hasSlot(el, name) {\r\n  // Look for a named slot\r\n  if (name) {\r\n    return el.querySelector(`[slot=\"${name}\"]`) !== null;\r\n  }\r\n  // Look for a default slot\r\n  return Array.from(el.childNodes).some((node) => {\r\n    if (node.nodeType === node.TEXT_NODE && node.textContent.trim() !== '') {\r\n      return true;\r\n    }\r\n    if (node.nodeType === node.ELEMENT_NODE) {\r\n      const el = node;\r\n      if (!el.hasAttribute('slot')) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n}\r\nconst fromPairs = (acc, [k, v]) => (Object.assign(Object.assign({}, acc), { [k]: v }));\r\nconst getAvailableSlots = (slots) => (host) => Object.values(slots)\r\n  .map((name) => [name, hasSlot(host, name)])\r\n  .reduce(fromPairs, {});\r\nconst getSlotChildren = (el) => { var _a; return (_a = el.querySelector('slot')) === null || _a === void 0 ? void 0 : _a.assignedElements({ flatten: true }); };\n\nexport { getTextContent as a, getSlotChildren as b, getAvailableSlots as g, hasSlot as h };\n","//\r\n// Returns an element's offset relative to its parent. Similar to element.offsetTop and element.offsetLeft, except the\r\n// parent doesn't have to be positioned relative or absolute.\r\n//\r\n// NOTE: This was created to work around what appears to be a bug in Chrome where a slotted element's offsetParent\r\n// seems to ignore elements inside the surrounding shadow DOM: https://bugs.chromium.org/p/chromium/issues/detail?id=920069\r\n//\r\nfunction getOffset(element, parent) {\r\n  return {\r\n    top: Math.round(element.getBoundingClientRect().top - parent.getBoundingClientRect().top),\r\n    left: Math.round(element.getBoundingClientRect().left - parent.getBoundingClientRect().left),\r\n  };\r\n}\n\nconst locks = new Set();\r\n//\r\n// Prevents body scrolling. Keeps track of which elements requested a lock so multiple levels of locking are possible\r\n// without premature unlocking.\r\n//\r\nfunction lockBodyScrolling(lockingEl) {\r\n  locks.add(lockingEl);\r\n  document.body.classList.add('six-scroll-lock');\r\n}\r\n//\r\n// Unlocks body scrolling. Scrolling will only be unlocked once all elements that requested a lock call this method.\r\n//\r\nfunction unlockBodyScrolling(lockingEl) {\r\n  locks.delete(lockingEl);\r\n  if (locks.size === 0) {\r\n    document.body.classList.remove('six-scroll-lock');\r\n  }\r\n}\r\n//\r\n// Scrolls an element into view of its container. If the element is already in view, nothing will happen.\r\n//\r\nfunction scrollIntoView(element, container, direction = 'vertical', behavior = 'smooth') {\r\n  const offset = getOffset(element, container);\r\n  const offsetTop = offset.top + container.scrollTop;\r\n  const offsetLeft = offset.left + container.scrollLeft;\r\n  const minX = container.scrollLeft;\r\n  const maxX = container.scrollLeft + container.offsetWidth;\r\n  const minY = container.scrollTop;\r\n  const maxY = container.scrollTop + container.offsetHeight;\r\n  if (direction === 'horizontal' || direction === 'both') {\r\n    if (offsetLeft < minX) {\r\n      container.scrollTo({ left: offsetLeft, behavior });\r\n    }\r\n    else if (offsetLeft + element.clientWidth > maxX) {\r\n      container.scrollTo({ left: offsetLeft - container.offsetWidth + element.clientWidth, behavior });\r\n    }\r\n  }\r\n  if (direction === 'vertical' || direction === 'both') {\r\n    if (offsetTop < minY) {\r\n      container.scrollTo({ top: offsetTop, behavior });\r\n    }\r\n    else if (offsetTop + element.clientHeight > maxY) {\r\n      container.scrollTo({ top: offsetTop - container.offsetHeight + element.clientHeight, behavior });\r\n    }\r\n  }\r\n}\n\nexport { getOffset as g, lockBodyScrolling as l, scrollIntoView as s, unlockBodyScrolling as u };\n","const DEFAULT_DEBOUNCE_INSANELY_FAST = 35;\r\nconst DEFAULT_DEBOUNCE_FAST = 300;\r\n/**\r\n * Debounce function to implement a timeframe to wait for no new changes before executing a callback\r\n\r\n *  example usages:\r\n *    debounce(() => saveInput());\r\n *    debounce(() => saveInput(), 750);\r\n *    this.searchInput.addEventListener('six-input-input', debounce((event) => this.searchInputChange(event)));\r\n *\r\n *  regarding default timeout check https://lawsofux.com/doherty-threshold/\r\n *\r\n * @param callback\r\n * @param timeout\r\n */\r\nconst debounce = (callback, timeout = DEFAULT_DEBOUNCE_FAST) => {\r\n  let timer;\r\n  return (...args) => {\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => callback.apply(undefined, args), timeout);\r\n  };\r\n};\r\n/**\r\n * Debounce an event\r\n *\r\n * @param event\r\n * @param timeout\r\n */\r\nconst debounceEvent = (event, timeout) => {\r\n  const original = event._original || event;\r\n  const emit = debounce(original.emit.bind(original), timeout);\r\n  return {\r\n    _original: event,\r\n    emit: emit,\r\n  };\r\n};\n\nexport { DEFAULT_DEBOUNCE_FAST as D, debounce as a, DEFAULT_DEBOUNCE_INSANELY_FAST as b, debounceEvent as d };\n","import { r as registerInstance, c as createEvent, h, g as getElement } from './index-a2605a62.js';\nimport { s as scrollIntoView } from './scroll-99b214c2.js';\nimport { P as Popover } from './popover-0f617c98.js';\nimport { E as EventListeners } from './event-listeners-1bef934e.js';\nimport { b as getSlotChildren } from './slot-5253e199.js';\nimport { D as DEFAULT_DEBOUNCE_FAST, a as debounce } from './execution-control-235f5126.js';\n\nfunction isTabbable(el) {\r\n  const tabIndex = el.tabIndex;\r\n  return tabIndex > -1;\r\n}\r\nfunction getNearestTabbableElement(el) {\r\n  // Check the element\r\n  if (isTabbable(el)) {\r\n    return el;\r\n  }\r\n  // Check the element's shadow root\r\n  if (el.shadowRoot) {\r\n    const tabbableShadowChild = [...el.shadowRoot.children].find(isTabbable);\r\n    if (tabbableShadowChild) {\r\n      return tabbableShadowChild;\r\n    }\r\n  }\r\n  // Check the element's children\r\n  if (el.children) {\r\n    return [...el.children].map(getNearestTabbableElement)[0];\r\n  }\r\n  return null;\r\n}\n\nconst sixDropdownCss = \":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:inline-block}.dropdown{position:relative}.dropdown__trigger{display:block}.dropdown__positioner{position:absolute;z-index:var(--six-z-index-dropdown)}.dropdown__positioner__filtered{width:100%}.dropdown__panel{max-height:50vh;font-family:var(--six-font-sans);font-size:var(--six-font-size-small);font-weight:var(--six-font-weight-normal);color:var(--color);background-color:var(--six-panel-background-color);border-radius:var(--six-border-radius-medium);box-shadow:var(--six-elevation-2dp);opacity:0;overflow:auto;overscroll-behavior:none;pointer-events:none;transform:scale(0.9);transition:var(--six-transition-fast) opacity, var(--six-transition-fast) transform;scrollbar-width:thin}.filter-hidden{display:none}.dropdown__positioner[data-popper-placement^=top] .dropdown__panel{transform-origin:bottom}.dropdown__positioner[data-popper-placement^=bottom] .dropdown__panel{transform-origin:top}.dropdown__positioner[data-popper-placement^=left] .dropdown__panel{transform-origin:right}.dropdown__positioner[data-popper-placement^=right] .dropdown__panel{transform-origin:left}.dropdown__positioner.popover-visible .dropdown__panel{opacity:1;transform:none;pointer-events:all}\";\n\nconst isTagName = (name) => (el) => (el === null || el === void 0 ? void 0 : el.tagName.toLowerCase()) === name.toLowerCase();\r\nconst isSixMenu = isTagName('six-menu');\r\nconst isSixMenuItem = isTagName('six-menu-item');\r\nlet id = 0;\r\nlet SixDropdown = class {\r\n  constructor(hostRef) {\r\n    registerInstance(this, hostRef);\r\n    this.sixShow = createEvent(this, \"six-dropdown-show\", 7);\r\n    this.sixAfterShow = createEvent(this, \"six-dropdown-after-show\", 7);\r\n    this.sixHide = createEvent(this, \"six-dropdown-hide\", 7);\r\n    this.sixAfterHide = createEvent(this, \"six-dropdown-after-hide\", 7);\r\n    this.sixAutoFilterFired = createEvent(this, \"six-dropdown-auto-filter-fired\", 7);\r\n    this.sixAsyncFilterFired = createEvent(this, \"six-async-filter-fired\", 7);\r\n    this.sixScroll = createEvent(this, \"six-dropdown-scroll\", 7);\r\n    this.componentId = `dropdown-${++id}`;\r\n    this.isVisible = false;\r\n    this.hasBeenInitialized = false;\r\n    /** Indicates whether or not the dropdown is open. You can use this in lieu of the show/hide methods. */\r\n    this.open = false;\r\n    /**\r\n     * The preferred placement of the dropdown panel. Note that the actual placement may vary as needed to keep the panel\r\n     * inside of the viewport.\r\n     */\r\n    this.placement = 'bottom-start';\r\n    /** Determines whether the dropdown should hide when a menu item is selected. */\r\n    this.closeOnSelect = true;\r\n    /** The distance in pixels from which to offset the panel away from its trigger. */\r\n    this.distance = 0;\r\n    /** The distance in pixels from which to offset the panel along its trigger. */\r\n    this.skidding = 0;\r\n    /**\r\n     * Enable this option to prevent the panel from being clipped when the component is placed inside a container with\r\n     * `overflow: auto|scroll`.\r\n     */\r\n    this.hoist = false;\r\n    /**\r\n     * Set to true to allow auto filtering for entries in the dropdown.\r\n     * With this flag the dropdown will automatically filter itsel.\r\n     * If you need to coordinate the shown elements yourself,\r\n     * e.g. because you need to call an endpoint use asyncFilter instead\r\n     */\r\n    this.filter = false;\r\n    /**\r\n     * Set to true to allow async filtering.\r\n     * When you enter something in the search field the component will only emit an event but not filter any elements itself.\r\n     * You can then simply listen to the 'six-async-filter-fired' event to manage the shown menu-items yourself\r\n     */\r\n    this.asyncFilter = false;\r\n    /** The filter's placeholder text. */\r\n    this.filterPlaceholder = 'Filter...';\r\n    /** By default the search field will be focused when opening a dropdown with filtering enabled. */\r\n    this.autofocusFilter = true;\r\n    /** The debounce for the filter callbacks. */\r\n    this.filterDebounce = DEFAULT_DEBOUNCE_FAST;\r\n    /** The panel can be opend/closed by pressing the spacebar or the enter key. In some cases you might want to avoid this */\r\n    this.disableHideOnEnterAndSpace = false;\r\n    this.eventListeners = new EventListeners();\r\n    this.getMenuItems = () => {\r\n      const [panel] = getSlotChildren(this.panel);\r\n      // the menu-items can be in a slot e.g. in six-select or direct children of the panel\r\n      return getSlotChildren(panel) || Array.from(panel.querySelectorAll('six-menu-item'));\r\n    };\r\n    this.handleFilterInputChange = () => {\r\n      const lowerCaseFilterTerm = this.filterInputElement.value.toLowerCase().trim();\r\n      const menuItems = this.getMenuItems();\r\n      menuItems.forEach((menuItem) => {\r\n        var _a, _b;\r\n        const lowerCaseMenuItemValue = (_a = menuItem === null || menuItem === void 0 ? void 0 : menuItem.value) === null || _a === void 0 ? void 0 : _a.toLowerCase();\r\n        const lowerCaseMenuText = (_b = menuItem === null || menuItem === void 0 ? void 0 : menuItem.innerText) === null || _b === void 0 ? void 0 : _b.toLowerCase();\r\n        // hide all elements which don't contain the entered substring\r\n        const elementContainsFilterTerm = (lowerCaseMenuItemValue === null || lowerCaseMenuItemValue === void 0 ? void 0 : lowerCaseMenuItemValue.includes(lowerCaseFilterTerm)) || (lowerCaseMenuText === null || lowerCaseMenuText === void 0 ? void 0 : lowerCaseMenuText.includes(lowerCaseFilterTerm));\r\n        menuItem.style.display = elementContainsFilterTerm ? 'unset' : 'none';\r\n      });\r\n      this.sixAutoFilterFired.emit({ filterValue: lowerCaseFilterTerm });\r\n    };\r\n  }\r\n  get hasFilterEnabled() {\r\n    return this.filter || this.asyncFilter;\r\n  }\r\n  get container() {\r\n    return this.containingElement || this.host;\r\n  }\r\n  handleOpenChange() {\r\n    this.open ? this.show() : this.hide();\r\n    this.updateAccessibleTrigger();\r\n  }\r\n  handlePopoverOptionsChange() {\r\n    this.popover.setOptions({\r\n      strategy: this.hoist ? 'fixed' : 'absolute',\r\n      placement: this.placement,\r\n      distance: this.distance,\r\n      skidding: this.skidding,\r\n    });\r\n  }\r\n  connectedCallback() {\r\n    this.handleDocumentKeyDown = this.handleDocumentKeyDown.bind(this);\r\n    this.handleDocumentMouseDown = this.handleDocumentMouseDown.bind(this);\r\n    this.handleMenuItemActivate = this.handleMenuItemActivate.bind(this);\r\n    this.handlePanelSelect = this.handlePanelSelect.bind(this);\r\n    this.handleTriggerClick = this.handleTriggerClick.bind(this);\r\n    this.handleTriggerKeyDown = this.handleTriggerKeyDown.bind(this);\r\n    this.handleTriggerKeyUp = this.handleTriggerKeyUp.bind(this);\r\n    this.handleTriggerSlotChange = this.handleTriggerSlotChange.bind(this);\r\n    this.handleDropdownScroll = this.handleDropdownScroll.bind(this);\r\n    if (this.hasBeenInitialized && !this.popover) {\r\n      // there was a weird bug when using six-dropdown inside an ag-grid filter. When closing the ag-grid filter\r\n      // disconnectedCallback() is executed. However since componentDidLoad() will not be rerendered the popover was had\r\n      // no longer a connected transitionEnd callback to the dropdown. To fix this, we have this sanity check here,\r\n      // to re-initialize the popover in case the component has already been initialized but the popover is undefined.\r\n      this.initializePopover();\r\n    }\r\n  }\r\n  componentDidLoad() {\r\n    this.hasBeenInitialized = true;\r\n    this.initializePopover();\r\n    // Show on init if open\r\n    if (this.open) {\r\n      void this.show();\r\n    }\r\n    if (this.filter) {\r\n      this.setupFiltering(this.handleFilterInputChange);\r\n    }\r\n    else if (this.asyncFilter) {\r\n      this.setupFiltering(() => this.sixAsyncFilterFired.emit({ filterValue: this.filterInputElement.value }));\r\n    }\r\n  }\r\n  initializePopover() {\r\n    const onAfterHide = () => {\r\n      if (this.filter) {\r\n        const menuItems = this.getMenuItems();\r\n        menuItems.forEach((item) => (item.style.display = 'unset'));\r\n        this.filterInputElement.value = '';\r\n      }\r\n      this.sixAfterHide.emit();\r\n    };\r\n    const onAfterShow = async () => {\r\n      if (this.hasFilterEnabled && this.autofocusFilter) {\r\n        // if dropdown filter is enabled we should autofocus the search field\r\n        await this.filterInputElement.setFocus();\r\n      }\r\n      this.sixAfterShow.emit();\r\n    };\r\n    const onTransitionEnd = () => {\r\n      if (!this.open) {\r\n        this.panel.scrollTop = 0;\r\n      }\r\n    };\r\n    this.popover = new Popover(this.trigger, this.positioner, {\r\n      strategy: this.hoist ? 'fixed' : 'absolute',\r\n      placement: this.placement,\r\n      distance: this.distance,\r\n      skidding: this.skidding,\r\n      transitionElement: this.panel,\r\n      onAfterHide,\r\n      onAfterShow,\r\n      onTransitionEnd,\r\n    });\r\n  }\r\n  setupFiltering(callback) {\r\n    this.eventListeners.add(this.filterInputElement, 'six-input-input', debounce(callback, this.filterDebounce));\r\n  }\r\n  disconnectedCallback() {\r\n    this.eventListeners.removeAll();\r\n    void this.hide();\r\n    this.popover.destroy();\r\n    this.popover = null;\r\n  }\r\n  /** Shows the dropdown panel */\r\n  async show() {\r\n    // Prevent subsequent calls to the method, whether manually or triggered by the `open` watcher\r\n    if (this.isVisible) {\r\n      return;\r\n    }\r\n    const sixShow = this.sixShow.emit();\r\n    if (sixShow.defaultPrevented) {\r\n      this.open = false;\r\n      return;\r\n    }\r\n    this.eventListeners.add(this.panel, 'six-menu-item-selected', this.handlePanelSelect);\r\n    this.eventListeners.add(document, 'keydown', this.handleDocumentKeyDown);\r\n    this.eventListeners.add(document, 'mousedown', this.handleDocumentMouseDown);\r\n    this.isVisible = true;\r\n    this.open = true;\r\n    this.popover.show();\r\n  }\r\n  /** Hides the dropdown panel */\r\n  async hide() {\r\n    // Prevent subsequent calls to the method, whether manually or triggered by the `open` watcher\r\n    if (!this.isVisible) {\r\n      return;\r\n    }\r\n    const sixHide = this.sixHide.emit();\r\n    if (sixHide.defaultPrevented) {\r\n      this.open = true;\r\n      return;\r\n    }\r\n    this.eventListeners.remove(this.panel, 'six-menu-item-selected', this.handlePanelSelect);\r\n    this.eventListeners.remove(document, 'keydown', this.handleDocumentKeyDown);\r\n    this.eventListeners.remove(document, 'mousedown', this.handleDocumentMouseDown);\r\n    this.isVisible = false;\r\n    this.open = false;\r\n    this.popover.hide();\r\n  }\r\n  focusOnTrigger() {\r\n    const [trigger] = getSlotChildren(this.trigger);\r\n    if (trigger) {\r\n      if (typeof trigger.setFocus === 'function') {\r\n        trigger.setFocus();\r\n      }\r\n      else if (typeof trigger.focus === 'function') {\r\n        trigger.focus();\r\n      }\r\n    }\r\n  }\r\n  getMenu() {\r\n    const [menu] = getSlotChildren(this.panel).filter(isSixMenu);\r\n    return menu;\r\n  }\r\n  /**\r\n   * Instructs the dropdown menu to reposition. Useful when the position or size of the trigger changes when the menu\r\n   * is activated.\r\n   */\r\n  async reposition() {\r\n    if (!this.open) {\r\n      return;\r\n    }\r\n    this.popover.reposition();\r\n  }\r\n  handleDocumentKeyDown(event) {\r\n    // Close when escape is pressed\r\n    if (event.key === 'Escape') {\r\n      void this.hide();\r\n      this.focusOnTrigger();\r\n      return;\r\n    }\r\n    if (this.filterInputElement === this.host.shadowRoot.activeElement) {\r\n      if (event.key === 'ArrowDown') {\r\n        const item = this.getMenuItems().find((item) => item.style.display !== 'none');\r\n        if (item) {\r\n          item.setFocus();\r\n        }\r\n      }\r\n    }\r\n    // Handle tabbing\r\n    if (event.key === 'Tab') {\r\n      // Tabbing within an open menu should close the dropdown and refocus the trigger\r\n      if (this.open && isSixMenuItem(document.activeElement)) {\r\n        event.preventDefault();\r\n        void this.hide();\r\n        this.focusOnTrigger();\r\n        return;\r\n      }\r\n      // Tabbing outside of the containing element closes the panel\r\n      //\r\n      // If the dropdown is used within a shadow DOM, we need to obtain the activeElement within that shadowRoot,\r\n      // otherwise `document.activeElement` will only return the name of the parent shadow DOM element.\r\n      setTimeout(() => {\r\n        var _a;\r\n        const activeElement = this.container.getRootNode() instanceof ShadowRoot\r\n          ? (_a = document.activeElement.shadowRoot) === null || _a === void 0 ? void 0 : _a.activeElement\r\n          : document.activeElement;\r\n        if ((activeElement === null || activeElement === void 0 ? void 0 : activeElement.closest(this.container.tagName.toLowerCase())) !== this.container) {\r\n          void this.hide();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n  handleDocumentMouseDown(event) {\r\n    // Close when clicking outside of the containing element\r\n    const path = event.composedPath();\r\n    if (!path.includes(this.container)) {\r\n      void this.hide();\r\n      return;\r\n    }\r\n  }\r\n  handleMenuItemActivate(event) {\r\n    const item = event.target;\r\n    scrollIntoView(item, this.panel);\r\n  }\r\n  handlePanelSelect(event) {\r\n    const target = event.target;\r\n    // Hide the dropdown when a menu item is selected\r\n    if (this.closeOnSelect && isSixMenu(target)) {\r\n      void this.hide();\r\n      this.focusOnTrigger();\r\n    }\r\n  }\r\n  handleTriggerClick() {\r\n    this.open ? this.hide() : this.show();\r\n  }\r\n  handleTriggerKeyDown(event) {\r\n    const menu = this.getMenu();\r\n    const menuItems = menu ? [...menu.querySelectorAll('six-menu-item')] : null;\r\n    const firstMenuItem = menuItems[0];\r\n    const lastMenuItem = menuItems[menuItems.length - 1];\r\n    // Close when escape or tab is pressed\r\n    if (event.key === 'Escape') {\r\n      this.focusOnTrigger();\r\n      void this.hide();\r\n      return;\r\n    }\r\n    // When spacebar/enter is pressed, show the panel but don't focus on the menu. This let's the user press the same\r\n    // key again to hide the menu in case they don't want to make a selection.\r\n    if (!this.disableHideOnEnterAndSpace && [' ', 'Enter'].includes(event.key)) {\r\n      event.preventDefault();\r\n      this.open ? void this.hide() : void this.show();\r\n      return;\r\n    }\r\n    // When up/down is pressed, we make the assumption that the user is familiar with the menu and plans to make a\r\n    // selection. Rather than toggle the panel, we focus on the menu (if one exists) and activate the first item for\r\n    // faster navigation.\r\n    if (['ArrowDown', 'ArrowUp'].includes(event.key)) {\r\n      event.preventDefault();\r\n      // Show the menu if it's not already open\r\n      if (!this.open) {\r\n        void this.show();\r\n      }\r\n      // Focus on a menu item\r\n      if (event.key === 'ArrowDown' && firstMenuItem) {\r\n        firstMenuItem.setFocus();\r\n        return;\r\n      }\r\n      if (event.key === 'ArrowUp' && lastMenuItem) {\r\n        lastMenuItem.setFocus();\r\n        return;\r\n      }\r\n    }\r\n    // Other keys bring focus to the menu and initiate type-to-select behavior\r\n    const ignoredKeys = ['Tab', 'Shift', 'Meta', 'Ctrl', 'Alt'];\r\n    if (this.open && menu && !ignoredKeys.includes(event.key)) {\r\n      void menu.typeToSelect(event.key);\r\n      return;\r\n    }\r\n  }\r\n  handleTriggerKeyUp(event) {\r\n    // Prevent space from triggering a click event in Firefox\r\n    if (event.key === ' ') {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n  handleTriggerSlotChange() {\r\n    this.updateAccessibleTrigger();\r\n  }\r\n  handleDropdownScroll() {\r\n    this.sixScroll.emit({\r\n      scrollHeight: this.panel.scrollHeight,\r\n      scrollTop: this.panel.scrollTop,\r\n      scrollbarHeight: this.panel.offsetHeight * (this.panel.offsetHeight / this.panel.scrollHeight),\r\n      scrollRatio: this.panel.scrollTop / (this.panel.scrollHeight - this.panel.clientHeight),\r\n    });\r\n  }\r\n  //\r\n  // Slotted triggers can be arbitrary content, but we need to link them to the dropdown panel with `aria-haspopup` and\r\n  // `aria-expanded`. These must be applied to the \"accessible trigger\" (the tabbable portion of the trigger element\r\n  // that gets slotted in) so screen readers will understand them. The accessible trigger could be the slotted element,\r\n  // a child of the slotted element, or an element in the slotted element's shadow root.\r\n  //\r\n  // For example, the accessible trigger of an <sl-button> is a <button> located inside its shadow root.\r\n  //\r\n  // To determine this, we assume the first tabbable element in the trigger slot is the \"accessible trigger.\"\r\n  //\r\n  updateAccessibleTrigger() {\r\n    const [accessibleTrigger] = getSlotChildren(this.trigger).map(getNearestTabbableElement);\r\n    if (accessibleTrigger) {\r\n      accessibleTrigger.setAttribute('aria-haspopup', 'true');\r\n      accessibleTrigger.setAttribute('aria-expanded', this.open ? 'true' : 'false');\r\n    }\r\n  }\r\n  render() {\r\n    return (h(\"div\", { part: \"base\", id: this.componentId, class: {\r\n        dropdown: true,\r\n        'dropdown--open': this.open,\r\n      } }, h(\"span\", { part: \"trigger\", class: \"dropdown__trigger\", ref: (el) => (this.trigger = el), onClick: this.handleTriggerClick, onKeyDown: this.handleTriggerKeyDown, onKeyUp: this.handleTriggerKeyUp }, h(\"slot\", { name: \"trigger\", onSlotchange: this.handleTriggerSlotChange })), h(\"div\", { ref: (el) => (this.positioner = el), class: {\r\n        dropdown__positioner: true,\r\n        dropdown__positioner__filtered: (this.filter || this.asyncFilter) && !this.hoist,\r\n      } }, this.hasFilterEnabled && (h(\"six-input\", { class: {\r\n        'filter-hidden': !this.open,\r\n      }, \"aria-hidden\": this.open ? 'false' : 'true', ref: (el) => (this.filterInputElement = el), placeholder: this.filterPlaceholder })), h(\"div\", { ref: (el) => (this.panel = el), part: \"panel\", class: \"dropdown__panel\", role: \"menu\", \"aria-hidden\": this.open ? 'false' : 'true', \"aria-labelledby\": this.componentId, onScroll: this.handleDropdownScroll }, h(\"slot\", null)))));\r\n  }\r\n  get host() { return getElement(this); }\r\n  static get watchers() { return {\r\n    \"open\": [\"handleOpenChange\"],\r\n    \"distance\": [\"handlePopoverOptionsChange\"],\r\n    \"hoist\": [\"handlePopoverOptionsChange\"],\r\n    \"placement\": [\"handlePopoverOptionsChange\"],\r\n    \"skidding\": [\"handlePopoverOptionsChange\"]\r\n  }; }\r\n};\r\nSixDropdown.style = sixDropdownCss;\n\nexport { SixDropdown as six_dropdown };\n"],"sourceRoot":""}